import { readFileSync } from "node:fs";
import { join } from "node:path";
import { fileURLToPath } from "node:url";
import { dirname } from "node:path";

const __dirname = dirname(fileURLToPath(import.meta.url));
const CONFIG_PATH = join(__dirname, "..", ".ytdlrc");

export const SUBTITLE_DEFAULTS = {
  ja: "ja,ja-orig",
  en: "en",
  "zh-Hans": "zh-Hans,zh-Hant,zh",
  es: "es",
  hi: "hi",
  pt: "pt,pt-BR",
  id: "id",
};

const messages = {
  ja: {
    // check-deps
    missingDeps: "ä¾å­˜ãƒ„ãƒ¼ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“:",
    installPrompt: "è‡ªå‹•ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã‹ï¼Ÿ",
    installOption: "ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹",
    installOptionDesc: "brew install ã§è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«",
    skipOption: "ã‚¹ã‚­ãƒƒãƒ—",
    skipOptionDesc: "æ‰‹å‹•ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹",
    installing: "ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­...",
    installSuccess: "ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†",
    installFail: "ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«å¤±æ•—ã—ã¾ã—ãŸã€‚æ‰‹å‹•ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„:",
    brewNotFound: "brew ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚ä»¥ä¸‹ã‚’æ‰‹å‹•ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„:",
    // interactive
    urlMessage: "URL",
    urlPlaceholder: "https://youtu.be/xxxxx",
    urlRequired: "URL ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚",
    urlInvalidProtocol: "æœ‰åŠ¹ãª HTTP/HTTPS URL ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚",
    urlInvalid: "æœ‰åŠ¹ãª URL ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚",
    modeMessage: "ä½•ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã‹ï¼Ÿ",
    modeVideo: "å‹•ç”»",
    modeVideoHint: "æœ€é«˜ç”»è³ª, mp4",
    modeAudio: "éŸ³å£°ã®ã¿",
    modeAudioHint: "m4a",
    modeInfo: "æƒ…å ±ã®ã¿è¡¨ç¤º",
    modeInfoHint: "ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãªã„",
    qualityMessage: "ç”»è³ª",
    qualityBest: "æœ€é«˜ç”»è³ª",
    qualityBestHint: "ãŠã™ã™ã‚",
    playlistConfirm: "ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã®ã‚ˆã†ã§ã™ã€‚å…¨å‹•ç”»ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã‹ï¼Ÿ",
    saveTo: "ä¿å­˜å…ˆ",
    summaryUrl: "URL",
    summaryMode: "ãƒ¢ãƒ¼ãƒ‰",
    summaryAudio: "éŸ³å£° (m4a)",
    summaryVideo: "å‹•ç”»",
    summarySaveTo: "ä¿å­˜å…ˆ",
    summaryPlaylist: "ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆ",
    summaryYes: "ã¯ã„",
    summaryTitle: "ç¢ºèª",
    startDownload: "ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã—ã¾ã™ã‹ï¼Ÿ",
    cancelled: "ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¾ã—ãŸã€‚",
    done: "å®Œäº†",
    exitedWithCode: "çµ‚äº†ã‚³ãƒ¼ãƒ‰:",
    // pre-download info
    fetchingInfo: "å‹•ç”»æƒ…å ±ã‚’å–å¾—ä¸­...",
    fetchInfoFailed: "å‹•ç”»æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚URLã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
    confirmDownload: "ã“ã®å‹•ç”»ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã‹ï¼Ÿ",
    // error recovery
    downloadFailed: "ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ",
    retryWithCookie: "ã‚¯ãƒƒã‚­ãƒ¼ä»˜ãã§ãƒªãƒˆãƒ©ã‚¤",
    retryWithCookieDesc: "ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¯ãƒƒã‚­ãƒ¼ã‚’ä½¿ã£ã¦å†è©¦è¡Œï¼ˆmacOSã‚­ãƒ¼ãƒã‚§ãƒ¼ãƒ³ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ãŒå¿…è¦ï¼‰",
    showDetails: "è©³ç´°ã‚’è¦‹ã‚‹",
    showDetailsDesc: "ã‚¨ãƒ©ãƒ¼ã®è©³ç´°ã‚’è¡¨ç¤º",
    abort: "ä¸­æ­¢",
    abortDesc: "ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’ä¸­æ­¢ã™ã‚‹",
    retrying: "ã‚¯ãƒƒã‚­ãƒ¼ä»˜ãã§ãƒªãƒˆãƒ©ã‚¤ä¸­...",
    // advanced settings
    advancedSettings: "ã‚ˆã‚Šè©³ç´°ãªè¨­å®š",
    advancedSettingsHint: "å­—å¹•è¨€èªãªã©ã‚’å¤‰æ›´",
    subLangsMessage: "å­—å¹•è¨€èª",
    subLangsDefault: "ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆè¨€èªè¨­å®šã«å¾“ã†ï¼‰",
    subLangsDefaultHint: "æ—¥æœ¬èªãªã‚‰ ja, è‹±èªãªã‚‰ en",
    subLangsJaEn: "æ—¥æœ¬èª + è‹±èª",
    subLangsAll: "å…¨è¨€èª",
    subLangsCustom: "ã‚«ã‚¹ã‚¿ãƒ ",
    subLangsCustomHint: "ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§å…¥åŠ›ï¼ˆä¾‹: ja,en,koï¼‰",
    subLangsCustomMessage: "å­—å¹•è¨€èªã‚³ãƒ¼ãƒ‰ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰",
    subLangsCustomPlaceholder: "ja,en,ko",
    subLangsCustomRequired: "è¨€èªã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",
    advancedDone: "è¨­å®šå®Œäº†",
    // transcribe
    L_TRANSCRIBE_ASK: "æ–‡å­—èµ·ã“ã—ã‚’ã—ã¾ã™ã‹ï¼Ÿ",
    L_TRANSCRIBE_BACKEND: "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’é¸æŠ",
    L_TRANSCRIBE_BACKEND_LOCAL: "ãƒ­ãƒ¼ã‚«ãƒ«ï¼ˆmlx-whisperï¼‰",
    L_TRANSCRIBE_BACKEND_API: "APIï¼ˆOpenAI Whisperï¼‰",
    L_TRANSCRIBE_SWITCH_API: "API ã«åˆ‡ã‚Šæ›¿ãˆã‚‹",
    L_TRANSCRIBE_CONTINUE_LOCAL: "ãã‚Œã§ã‚‚ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œ",
    L_TRANSCRIBE_RUNNING: "ğŸ™  æ–‡å­—èµ·ã“ã—ä¸­...",
    L_TRANSCRIBE_DONE: "âœ… æ–‡å­—èµ·ã“ã—å®Œäº†",
    L_TRANSCRIBE_FAILED: "âŒ æ–‡å­—èµ·ã“ã—å¤±æ•—",
    L_TRANSCRIBE_USING_SUBS: "å­—å¹•ã‚’æ´»ç”¨ã—ã¦ç²¾åº¦ã‚’å‘ä¸Šä¸­...",
    L_TRANSCRIBE_USING_MANUSCRIPT: "åŸç¨¿ã‚’æ´»ç”¨ã—ã¦ç²¾åº¦ã‚’å‘ä¸Šä¸­...",
    L_TRANSCRIBE_NO_HINTS: "ãƒ’ãƒ³ãƒˆãªã—ã§æ–‡å­—èµ·ã“ã—ä¸­...",
    L_TRANSCRIBE_API_KEY_MISSING: "OPENAI_API_KEY ã‚’è¨­å®šã—ã¦ãã ã•ã„",
    L_TRANSCRIBE_SPEC_WARN: "ã‚¹ãƒšãƒƒã‚¯ä¸è¶³ã®è­¦å‘Š",
    L_OPT_TRANSCRIBE: "ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¾Œã«æ–‡å­—èµ·ã“ã—",
    L_OPT_BACKEND: "æ–‡å­—èµ·ã“ã—ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (local/api)",
    L_OPT_MANUSCRIPT: "åŸç¨¿ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ï¼ˆç²¾åº¦å‘ä¸Šç”¨ï¼‰",
  },
  en: {
    // check-deps
    missingDeps: "Missing dependencies:",
    installPrompt: "Install automatically?",
    installOption: "Install",
    installOptionDesc: "Auto-install via brew",
    skipOption: "Skip",
    skipOptionDesc: "Install manually",
    installing: "Installing",
    installSuccess: "installed successfully",
    installFail: "Installation failed. Please install manually:",
    brewNotFound: "brew not found. Please install manually:",
    // interactive
    urlMessage: "URL",
    urlPlaceholder: "https://youtu.be/xxxxx",
    urlRequired: "URL is required.",
    urlInvalidProtocol: "Enter a valid HTTP/HTTPS URL.",
    urlInvalid: "Enter a valid URL.",
    modeMessage: "What to download?",
    modeVideo: "Video",
    modeVideoHint: "best quality, mp4",
    modeAudio: "Audio only",
    modeAudioHint: "m4a",
    modeInfo: "Show info only",
    modeInfoHint: "no download",
    qualityMessage: "Quality",
    qualityBest: "Best available",
    qualityBestHint: "recommended",
    playlistConfirm: "This looks like a playlist. Download all videos?",
    saveTo: "Save to",
    summaryUrl: "URL",
    summaryMode: "Mode",
    summaryAudio: "audio (m4a)",
    summaryVideo: "video",
    summarySaveTo: "Save to",
    summaryPlaylist: "Playlist",
    summaryYes: "yes",
    summaryTitle: "Summary",
    startDownload: "Start download?",
    cancelled: "cancelled.",
    done: "done.",
    exitedWithCode: "exited with code",
    // pre-download info
    fetchingInfo: "Fetching video info...",
    fetchInfoFailed: "Failed to fetch video info. Please check the URL.",
    confirmDownload: "Download this video?",
    // error recovery
    downloadFailed: "Download failed",
    retryWithCookie: "Retry with cookies",
    retryWithCookieDesc: "Retry using browser cookies (macOS Keychain access will be requested)",
    showDetails: "Show details",
    showDetailsDesc: "Show error details",
    abort: "Abort",
    abortDesc: "Cancel the download",
    retrying: "Retrying with cookies...",
    // advanced settings
    advancedSettings: "Advanced settings",
    advancedSettingsHint: "Change subtitle languages, etc.",
    subLangsMessage: "Subtitle languages",
    subLangsDefault: "Default (follow language setting)",
    subLangsDefaultHint: "ja for Japanese, en for English",
    subLangsJaEn: "English + Japanese",
    subLangsAll: "All languages",
    subLangsCustom: "Custom",
    subLangsCustomHint: "Enter comma-separated codes (e.g. ja,en,ko)",
    subLangsCustomMessage: "Subtitle language codes (comma-separated)",
    subLangsCustomPlaceholder: "ja,en,ko",
    subLangsCustomRequired: "Enter language codes.",
    advancedDone: "Settings saved",
    // transcribe
    L_TRANSCRIBE_ASK: "Transcribe after download?",
    L_TRANSCRIBE_BACKEND: "Select backend",
    L_TRANSCRIBE_BACKEND_LOCAL: "Local (mlx-whisper)",
    L_TRANSCRIBE_BACKEND_API: "API (OpenAI Whisper)",
    L_TRANSCRIBE_SWITCH_API: "Switch to API",
    L_TRANSCRIBE_CONTINUE_LOCAL: "Continue with local anyway",
    L_TRANSCRIBE_RUNNING: "ğŸ™  Transcribing...",
    L_TRANSCRIBE_DONE: "âœ… Transcription complete",
    L_TRANSCRIBE_FAILED: "âŒ Transcription failed",
    L_TRANSCRIBE_USING_SUBS: "Using subtitles to improve accuracy...",
    L_TRANSCRIBE_USING_MANUSCRIPT: "Using manuscript to improve accuracy...",
    L_TRANSCRIBE_NO_HINTS: "Transcribing without hints...",
    L_TRANSCRIBE_API_KEY_MISSING: "Please set OPENAI_API_KEY",
    L_TRANSCRIBE_SPEC_WARN: "Insufficient specs warning",
    L_OPT_TRANSCRIBE: "Transcribe after download",
    L_OPT_BACKEND: "Transcribe backend (local/api)",
    L_OPT_MANUSCRIPT: "Manuscript file path (for accuracy)",
  },
  "zh-Hans": {
    // check-deps
    missingDeps: "ç¼ºå°‘ä¾èµ–å·¥å…·ï¼š",
    installPrompt: "æ˜¯å¦è‡ªåŠ¨å®‰è£…ï¼Ÿ",
    installOption: "å®‰è£…",
    installOptionDesc: "é€šè¿‡ brew install è‡ªåŠ¨å®‰è£…",
    skipOption: "è·³è¿‡",
    skipOptionDesc: "æ‰‹åŠ¨å®‰è£…",
    installing: "æ­£åœ¨å®‰è£…...",
    installSuccess: "å®‰è£…å®Œæˆ",
    installFail: "å®‰è£…å¤±è´¥ã€‚è¯·æ‰‹åŠ¨å®‰è£…ï¼š",
    brewNotFound: "æœªæ‰¾åˆ° brewã€‚è¯·æ‰‹åŠ¨å®‰è£…ä»¥ä¸‹å·¥å…·ï¼š",
    // interactive
    urlMessage: "URL",
    urlPlaceholder: "https://youtu.be/xxxxx",
    urlRequired: "è¯·è¾“å…¥ URLã€‚",
    urlInvalidProtocol: "è¯·è¾“å…¥æœ‰æ•ˆçš„ HTTP/HTTPS URLã€‚",
    urlInvalid: "è¯·è¾“å…¥æœ‰æ•ˆçš„ URLã€‚",
    modeMessage: "è¦ä¸‹è½½ä»€ä¹ˆï¼Ÿ",
    modeVideo: "è§†é¢‘",
    modeVideoHint: "æœ€é«˜ç”»è´¨, mp4",
    modeAudio: "ä»…éŸ³é¢‘",
    modeAudioHint: "m4a",
    modeInfo: "ä»…æ˜¾ç¤ºä¿¡æ¯",
    modeInfoHint: "ä¸ä¸‹è½½",
    qualityMessage: "ç”»è´¨",
    qualityBest: "æœ€é«˜ç”»è´¨",
    qualityBestHint: "æ¨è",
    playlistConfirm: "è¿™ä¼¼ä¹æ˜¯æ’­æ”¾åˆ—è¡¨ã€‚è¦ä¸‹è½½æ‰€æœ‰è§†é¢‘å—ï¼Ÿ",
    saveTo: "ä¿å­˜åˆ°",
    summaryUrl: "URL",
    summaryMode: "æ¨¡å¼",
    summaryAudio: "éŸ³é¢‘ (m4a)",
    summaryVideo: "è§†é¢‘",
    summarySaveTo: "ä¿å­˜åˆ°",
    summaryPlaylist: "æ’­æ”¾åˆ—è¡¨",
    summaryYes: "æ˜¯",
    summaryTitle: "ç¡®è®¤",
    startDownload: "å¼€å§‹ä¸‹è½½ï¼Ÿ",
    cancelled: "å·²å–æ¶ˆã€‚",
    done: "å®Œæˆ",
    exitedWithCode: "é€€å‡ºä»£ç ï¼š",
    // pre-download info
    fetchingInfo: "æ­£åœ¨è·å–è§†é¢‘ä¿¡æ¯...",
    fetchInfoFailed: "è·å–è§†é¢‘ä¿¡æ¯å¤±è´¥ã€‚è¯·æ£€æŸ¥ URLã€‚",
    confirmDownload: "è¦ä¸‹è½½æ­¤è§†é¢‘å—ï¼Ÿ",
    // error recovery
    downloadFailed: "ä¸‹è½½å¤±è´¥",
    retryWithCookie: "ä½¿ç”¨ Cookie é‡è¯•",
    retryWithCookieDesc: "ä½¿ç”¨æµè§ˆå™¨ Cookie é‡è¯•ï¼ˆéœ€è¦ macOS é’¥åŒ™ä¸²è®¿é—®æƒé™ï¼‰",
    showDetails: "æŸ¥çœ‹è¯¦æƒ…",
    showDetailsDesc: "æ˜¾ç¤ºé”™è¯¯è¯¦æƒ…",
    abort: "ä¸­æ­¢",
    abortDesc: "ä¸­æ­¢ä¸‹è½½",
    retrying: "æ­£åœ¨ä½¿ç”¨ Cookie é‡è¯•...",
    // advanced settings
    advancedSettings: "æ›´å¤šè®¾ç½®",
    advancedSettingsHint: "æ›´æ”¹å­—å¹•è¯­è¨€ç­‰",
    subLangsMessage: "å­—å¹•è¯­è¨€",
    subLangsDefault: "é»˜è®¤ï¼ˆè·Ÿéšè¯­è¨€è®¾ç½®ï¼‰",
    subLangsDefaultHint: "ä¸­æ–‡ä¸º zh-Hansï¼Œè‹±è¯­ä¸º en",
    subLangsJaEn: "ä¸­æ–‡ + è‹±è¯­",
    subLangsAll: "å…¨éƒ¨è¯­è¨€",
    subLangsCustom: "è‡ªå®šä¹‰",
    subLangsCustomHint: "é€—å·åˆ†éš”è¾“å…¥ï¼ˆä¾‹ï¼šzh-Hans,en,jaï¼‰",
    subLangsCustomMessage: "å­—å¹•è¯­è¨€ä»£ç ï¼ˆé€—å·åˆ†éš”ï¼‰",
    subLangsCustomPlaceholder: "zh-Hans,en,ja",
    subLangsCustomRequired: "è¯·è¾“å…¥è¯­è¨€ä»£ç ",
    advancedDone: "è®¾ç½®å®Œæˆ",
    // transcribe
    L_TRANSCRIBE_ASK: "ä¸‹è½½åè¿›è¡Œè¯­éŸ³è½¬æ–‡å­—ï¼Ÿ",
    L_TRANSCRIBE_BACKEND: "é€‰æ‹©åç«¯",
    L_TRANSCRIBE_BACKEND_LOCAL: "æœ¬åœ°ï¼ˆmlx-whisperï¼‰",
    L_TRANSCRIBE_BACKEND_API: "APIï¼ˆOpenAI Whisperï¼‰",
    L_TRANSCRIBE_SWITCH_API: "åˆ‡æ¢åˆ° API",
    L_TRANSCRIBE_CONTINUE_LOCAL: "ä»ç„¶ä½¿ç”¨æœ¬åœ°",
    L_TRANSCRIBE_RUNNING: "ğŸ™  è¯­éŸ³è½¬æ–‡å­—ä¸­...",
    L_TRANSCRIBE_DONE: "âœ… è¯­éŸ³è½¬æ–‡å­—å®Œæˆ",
    L_TRANSCRIBE_FAILED: "âŒ è¯­éŸ³è½¬æ–‡å­—å¤±è´¥",
    L_TRANSCRIBE_USING_SUBS: "åˆ©ç”¨å­—å¹•æé«˜å‡†ç¡®åº¦...",
    L_TRANSCRIBE_USING_MANUSCRIPT: "åˆ©ç”¨åŸç¨¿æé«˜å‡†ç¡®åº¦...",
    L_TRANSCRIBE_NO_HINTS: "æ— æç¤ºè½¬å½•ä¸­...",
    L_TRANSCRIBE_API_KEY_MISSING: "è¯·è®¾ç½® OPENAI_API_KEY",
    L_TRANSCRIBE_SPEC_WARN: "é…ç½®ä¸è¶³è­¦å‘Š",
    L_OPT_TRANSCRIBE: "ä¸‹è½½åè¿›è¡Œè¯­éŸ³è½¬æ–‡å­—",
    L_OPT_BACKEND: "è½¬å½•åç«¯ (local/api)",
    L_OPT_MANUSCRIPT: "åŸç¨¿æ–‡ä»¶è·¯å¾„ï¼ˆæé«˜å‡†ç¡®åº¦ï¼‰",
  },
  es: {
    // check-deps
    missingDeps: "Faltan dependencias:",
    installPrompt: "Â¿Instalar automÃ¡ticamente?",
    installOption: "Instalar",
    installOptionDesc: "Instalar automÃ¡ticamente con brew",
    skipOption: "Omitir",
    skipOptionDesc: "Instalar manualmente",
    installing: "Instalando...",
    installSuccess: "instalado correctamente",
    installFail: "Error en la instalaciÃ³n. Instale manualmente:",
    brewNotFound: "brew no encontrado. Instale manualmente:",
    // interactive
    urlMessage: "URL",
    urlPlaceholder: "https://youtu.be/xxxxx",
    urlRequired: "Se requiere una URL.",
    urlInvalidProtocol: "Ingrese una URL HTTP/HTTPS vÃ¡lida.",
    urlInvalid: "Ingrese una URL vÃ¡lida.",
    modeMessage: "Â¿QuÃ© descargar?",
    modeVideo: "Video",
    modeVideoHint: "mejor calidad, mp4",
    modeAudio: "Solo audio",
    modeAudioHint: "m4a",
    modeInfo: "Solo informaciÃ³n",
    modeInfoHint: "sin descarga",
    qualityMessage: "Calidad",
    qualityBest: "Mejor disponible",
    qualityBestHint: "recomendado",
    playlistConfirm: "Parece una lista de reproducciÃ³n. Â¿Descargar todos los videos?",
    saveTo: "Guardar en",
    summaryUrl: "URL",
    summaryMode: "Modo",
    summaryAudio: "audio (m4a)",
    summaryVideo: "video",
    summarySaveTo: "Guardar en",
    summaryPlaylist: "Lista de reproducciÃ³n",
    summaryYes: "sÃ­",
    summaryTitle: "Resumen",
    startDownload: "Â¿Iniciar descarga?",
    cancelled: "cancelado.",
    done: "completado.",
    exitedWithCode: "cÃ³digo de salida:",
    // pre-download info
    fetchingInfo: "Obteniendo informaciÃ³n del video...",
    fetchInfoFailed: "Error al obtener informaciÃ³n. Verifique la URL.",
    confirmDownload: "Â¿Descargar este video?",
    // error recovery
    downloadFailed: "Descarga fallida",
    retryWithCookie: "Reintentar con cookies",
    retryWithCookieDesc: "Reintentar usando cookies del navegador (se solicitarÃ¡ acceso al llavero de macOS)",
    showDetails: "Ver detalles",
    showDetailsDesc: "Mostrar detalles del error",
    abort: "Cancelar",
    abortDesc: "Cancelar la descarga",
    retrying: "Reintentando con cookies...",
    // advanced settings
    advancedSettings: "ConfiguraciÃ³n avanzada",
    advancedSettingsHint: "Cambiar idiomas de subtÃ­tulos, etc.",
    subLangsMessage: "Idiomas de subtÃ­tulos",
    subLangsDefault: "Predeterminado (segÃºn idioma)",
    subLangsDefaultHint: "es para espaÃ±ol, en para inglÃ©s",
    subLangsJaEn: "EspaÃ±ol + InglÃ©s",
    subLangsAll: "Todos los idiomas",
    subLangsCustom: "Personalizado",
    subLangsCustomHint: "Separados por comas (ej: es,en,ja)",
    subLangsCustomMessage: "CÃ³digos de idioma de subtÃ­tulos (separados por comas)",
    subLangsCustomPlaceholder: "es,en,ja",
    subLangsCustomRequired: "Ingrese los cÃ³digos de idioma.",
    advancedDone: "ConfiguraciÃ³n guardada",
    // transcribe
    L_TRANSCRIBE_ASK: "Â¿Transcribir despuÃ©s de descargar?",
    L_TRANSCRIBE_BACKEND: "Seleccionar backend",
    L_TRANSCRIBE_BACKEND_LOCAL: "Local (mlx-whisper)",
    L_TRANSCRIBE_BACKEND_API: "API (OpenAI Whisper)",
    L_TRANSCRIBE_SWITCH_API: "Cambiar a API",
    L_TRANSCRIBE_CONTINUE_LOCAL: "Continuar con local de todas formas",
    L_TRANSCRIBE_RUNNING: "ğŸ™  Transcribiendo...",
    L_TRANSCRIBE_DONE: "âœ… TranscripciÃ³n completada",
    L_TRANSCRIBE_FAILED: "âŒ TranscripciÃ³n fallida",
    L_TRANSCRIBE_USING_SUBS: "Usando subtÃ­tulos para mejorar la precisiÃ³n...",
    L_TRANSCRIBE_USING_MANUSCRIPT: "Usando manuscrito para mejorar la precisiÃ³n...",
    L_TRANSCRIBE_NO_HINTS: "Transcribiendo sin pistas...",
    L_TRANSCRIBE_API_KEY_MISSING: "Configure OPENAI_API_KEY",
    L_TRANSCRIBE_SPEC_WARN: "Advertencia de especificaciones insuficientes",
    L_OPT_TRANSCRIBE: "Transcribir despuÃ©s de descargar",
    L_OPT_BACKEND: "Backend de transcripciÃ³n (local/api)",
    L_OPT_MANUSCRIPT: "Ruta del manuscrito (para mejorar precisiÃ³n)",
  },
  hi: {
    // check-deps
    missingDeps: "à¤†à¤µà¤¶à¥à¤¯à¤• à¤Ÿà¥‚à¤² à¤¨à¤¹à¥€à¤‚ à¤®à¤¿à¤²à¥‡:",
    installPrompt: "à¤¸à¥à¤µà¤šà¤¾à¤²à¤¿à¤¤ à¤°à¥‚à¤ª à¤¸à¥‡ à¤‡à¤‚à¤¸à¥à¤Ÿà¥‰à¤² à¤•à¤°à¥‡à¤‚?",
    installOption: "à¤‡à¤‚à¤¸à¥à¤Ÿà¥‰à¤² à¤•à¤°à¥‡à¤‚",
    installOptionDesc: "brew install à¤¸à¥‡ à¤¸à¥à¤µà¤šà¤¾à¤²à¤¿à¤¤ à¤‡à¤‚à¤¸à¥à¤Ÿà¥‰à¤²",
    skipOption: "à¤›à¥‹à¤¡à¤¼à¥‡à¤‚",
    skipOptionDesc: "à¤®à¥ˆà¤¨à¥à¤¯à¥à¤…à¤² à¤°à¥‚à¤ª à¤¸à¥‡ à¤‡à¤‚à¤¸à¥à¤Ÿà¥‰à¤² à¤•à¤°à¥‡à¤‚",
    installing: "à¤‡à¤‚à¤¸à¥à¤Ÿà¥‰à¤² à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ...",
    installSuccess: "à¤‡à¤‚à¤¸à¥à¤Ÿà¥‰à¤² à¤¸à¤«à¤²",
    installFail: "à¤‡à¤‚à¤¸à¥à¤Ÿà¥‰à¤² à¤µà¤¿à¤«à¤²à¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤®à¥ˆà¤¨à¥à¤¯à¥à¤…à¤² à¤°à¥‚à¤ª à¤¸à¥‡ à¤‡à¤‚à¤¸à¥à¤Ÿà¥‰à¤² à¤•à¤°à¥‡à¤‚:",
    brewNotFound: "brew à¤¨à¤¹à¥€à¤‚ à¤®à¤¿à¤²à¤¾à¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤®à¥ˆà¤¨à¥à¤¯à¥à¤…à¤² à¤°à¥‚à¤ª à¤¸à¥‡ à¤‡à¤‚à¤¸à¥à¤Ÿà¥‰à¤² à¤•à¤°à¥‡à¤‚:",
    // interactive
    urlMessage: "URL",
    urlPlaceholder: "https://youtu.be/xxxxx",
    urlRequired: "URL à¤†à¤µà¤¶à¥à¤¯à¤• à¤¹à¥ˆà¥¤",
    urlInvalidProtocol: "à¤•à¥ƒà¤ªà¤¯à¤¾ à¤®à¤¾à¤¨à¥à¤¯ HTTP/HTTPS URL à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚à¥¤",
    urlInvalid: "à¤•à¥ƒà¤ªà¤¯à¤¾ à¤®à¤¾à¤¨à¥à¤¯ URL à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚à¥¤",
    modeMessage: "à¤•à¥à¤¯à¤¾ à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡ à¤•à¤°à¤¨à¤¾ à¤¹à¥ˆ?",
    modeVideo: "à¤µà¥€à¤¡à¤¿à¤¯à¥‹",
    modeVideoHint: "à¤¸à¤°à¥à¤µà¤¶à¥à¤°à¥‡à¤·à¥à¤  à¤—à¥à¤£à¤µà¤¤à¥à¤¤à¤¾, mp4",
    modeAudio: "à¤•à¥‡à¤µà¤² à¤‘à¤¡à¤¿à¤¯à¥‹",
    modeAudioHint: "m4a",
    modeInfo: "à¤•à¥‡à¤µà¤² à¤œà¤¾à¤¨à¤•à¤¾à¤°à¥€ à¤¦à¤¿à¤–à¤¾à¤à¤",
    modeInfoHint: "à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡ à¤¨à¤¹à¥€à¤‚",
    qualityMessage: "à¤—à¥à¤£à¤µà¤¤à¥à¤¤à¤¾",
    qualityBest: "à¤¸à¤°à¥à¤µà¤¶à¥à¤°à¥‡à¤·à¥à¤  à¤‰à¤ªà¤²à¤¬à¥à¤§",
    qualityBestHint: "à¤…à¤¨à¥à¤¶à¤‚à¤¸à¤¿à¤¤",
    playlistConfirm: "à¤¯à¤¹ à¤ªà¥à¤²à¥‡à¤²à¤¿à¤¸à¥à¤Ÿ à¤²à¤—à¤¤à¥€ à¤¹à¥ˆà¥¤ à¤¸à¤­à¥€ à¤µà¥€à¤¡à¤¿à¤¯à¥‹ à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡ à¤•à¤°à¥‡à¤‚?",
    saveTo: "à¤¯à¤¹à¤¾à¤ à¤¸à¥‡à¤µ à¤•à¤°à¥‡à¤‚",
    summaryUrl: "URL",
    summaryMode: "à¤®à¥‹à¤¡",
    summaryAudio: "à¤‘à¤¡à¤¿à¤¯à¥‹ (m4a)",
    summaryVideo: "à¤µà¥€à¤¡à¤¿à¤¯à¥‹",
    summarySaveTo: "à¤¯à¤¹à¤¾à¤ à¤¸à¥‡à¤µ à¤•à¤°à¥‡à¤‚",
    summaryPlaylist: "à¤ªà¥à¤²à¥‡à¤²à¤¿à¤¸à¥à¤Ÿ",
    summaryYes: "à¤¹à¤¾à¤",
    summaryTitle: "à¤¸à¤¾à¤°à¤¾à¤‚à¤¶",
    startDownload: "à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡ à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚?",
    cancelled: "à¤°à¤¦à¥à¤¦ à¤•à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾à¥¤",
    done: "à¤ªà¥‚à¤°à¥à¤£",
    exitedWithCode: "à¤à¤—à¥à¤œà¤¼à¤¿à¤Ÿ à¤•à¥‹à¤¡:",
    // pre-download info
    fetchingInfo: "à¤µà¥€à¤¡à¤¿à¤¯à¥‹ à¤œà¤¾à¤¨à¤•à¤¾à¤°à¥€ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤¹à¥‹ à¤°à¤¹à¥€ à¤¹à¥ˆ...",
    fetchInfoFailed: "à¤µà¥€à¤¡à¤¿à¤¯à¥‹ à¤œà¤¾à¤¨à¤•à¤¾à¤°à¥€ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¤¨à¥‡ à¤®à¥‡à¤‚ à¤µà¤¿à¤«à¤²à¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ URL à¤œà¤¾à¤à¤šà¥‡à¤‚à¥¤",
    confirmDownload: "à¤¯à¤¹ à¤µà¥€à¤¡à¤¿à¤¯à¥‹ à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡ à¤•à¤°à¥‡à¤‚?",
    // error recovery
    downloadFailed: "à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡ à¤µà¤¿à¤«à¤²",
    retryWithCookie: "à¤•à¥à¤•à¥€ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤ªà¥à¤¨à¤ƒ à¤ªà¥à¤°à¤¯à¤¾à¤¸",
    retryWithCookieDesc: "à¤¬à¥à¤°à¤¾à¤‰à¤œà¤¼à¤° à¤•à¥à¤•à¥€ à¤¸à¥‡ à¤ªà¥à¤¨à¤ƒ à¤ªà¥à¤°à¤¯à¤¾à¤¸ (macOS à¤•à¥€à¤šà¥‡à¤¨ à¤à¤•à¥à¤¸à¥‡à¤¸ à¤†à¤µà¤¶à¥à¤¯à¤•)",
    showDetails: "à¤µà¤¿à¤µà¤°à¤£ à¤¦à¥‡à¤–à¥‡à¤‚",
    showDetailsDesc: "à¤¤à¥à¤°à¥à¤Ÿà¤¿ à¤µà¤¿à¤µà¤°à¤£ à¤¦à¤¿à¤–à¤¾à¤à¤",
    abort: "à¤°à¤¦à¥à¤¦ à¤•à¤°à¥‡à¤‚",
    abortDesc: "à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡ à¤°à¤¦à¥à¤¦ à¤•à¤°à¥‡à¤‚",
    retrying: "à¤•à¥à¤•à¥€ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤ªà¥à¤¨à¤ƒ à¤ªà¥à¤°à¤¯à¤¾à¤¸ à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ...",
    // advanced settings
    advancedSettings: "à¤‰à¤¨à¥à¤¨à¤¤ à¤¸à¥‡à¤Ÿà¤¿à¤‚à¤—à¥à¤¸",
    advancedSettingsHint: "à¤‰à¤ªà¤¶à¥€à¤°à¥à¤·à¤• à¤­à¤¾à¤·à¤¾à¤à¤ à¤†à¤¦à¤¿ à¤¬à¤¦à¤²à¥‡à¤‚",
    subLangsMessage: "à¤‰à¤ªà¤¶à¥€à¤°à¥à¤·à¤• à¤­à¤¾à¤·à¤¾à¤à¤",
    subLangsDefault: "à¤¡à¤¿à¤«à¤¼à¥‰à¤²à¥à¤Ÿ (à¤­à¤¾à¤·à¤¾ à¤¸à¥‡à¤Ÿà¤¿à¤‚à¤— à¤•à¥‡ à¤…à¤¨à¥à¤¸à¤¾à¤°)",
    subLangsDefaultHint: "à¤¹à¤¿à¤‚à¤¦à¥€ à¤•à¥‡ à¤²à¤¿à¤ hi, à¤…à¤‚à¤—à¥à¤°à¥‡à¤œà¤¼à¥€ à¤•à¥‡ à¤²à¤¿à¤ en",
    subLangsJaEn: "à¤¹à¤¿à¤‚à¤¦à¥€ + à¤…à¤‚à¤—à¥à¤°à¥‡à¤œà¤¼à¥€",
    subLangsAll: "à¤¸à¤­à¥€ à¤­à¤¾à¤·à¤¾à¤à¤",
    subLangsCustom: "à¤•à¤¸à¥à¤Ÿà¤®",
    subLangsCustomHint: "à¤•à¥‰à¤®à¤¾ à¤¸à¥‡ à¤…à¤²à¤— à¤•à¤°à¥‡à¤‚ (à¤‰à¤¦à¤¾: hi,en,ja)",
    subLangsCustomMessage: "à¤‰à¤ªà¤¶à¥€à¤°à¥à¤·à¤• à¤­à¤¾à¤·à¤¾ à¤•à¥‹à¤¡ (à¤•à¥‰à¤®à¤¾ à¤¸à¥‡ à¤…à¤²à¤—)",
    subLangsCustomPlaceholder: "hi,en,ja",
    subLangsCustomRequired: "à¤•à¥ƒà¤ªà¤¯à¤¾ à¤­à¤¾à¤·à¤¾ à¤•à¥‹à¤¡ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",
    advancedDone: "à¤¸à¥‡à¤Ÿà¤¿à¤‚à¤—à¥à¤¸ à¤¸à¥‡à¤µ à¤¹à¥‹ à¤—à¤ˆà¤‚",
    // transcribe
    L_TRANSCRIBE_ASK: "à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡ à¤•à¥‡ à¤¬à¤¾à¤¦ à¤Ÿà¥à¤°à¤¾à¤‚à¤¸à¤•à¥à¤°à¤¾à¤‡à¤¬ à¤•à¤°à¥‡à¤‚?",
    L_TRANSCRIBE_BACKEND: "à¤¬à¥ˆà¤•à¥‡à¤‚à¤¡ à¤šà¥à¤¨à¥‡à¤‚",
    L_TRANSCRIBE_BACKEND_LOCAL: "à¤¸à¥à¤¥à¤¾à¤¨à¥€à¤¯ (mlx-whisper)",
    L_TRANSCRIBE_BACKEND_API: "API (OpenAI Whisper)",
    L_TRANSCRIBE_SWITCH_API: "API à¤ªà¤° à¤¸à¥à¤µà¤¿à¤š à¤•à¤°à¥‡à¤‚",
    L_TRANSCRIBE_CONTINUE_LOCAL: "à¤«à¤¿à¤° à¤­à¥€ à¤¸à¥à¤¥à¤¾à¤¨à¥€à¤¯ à¤¸à¥‡ à¤šà¤²à¤¾à¤à¤",
    L_TRANSCRIBE_RUNNING: "ğŸ™  à¤Ÿà¥à¤°à¤¾à¤‚à¤¸à¤•à¥à¤°à¤¾à¤‡à¤¬ à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ...",
    L_TRANSCRIBE_DONE: "âœ… à¤Ÿà¥à¤°à¤¾à¤‚à¤¸à¤•à¥à¤°à¤¿à¤ªà¥à¤¶à¤¨ à¤ªà¥‚à¤°à¥à¤£",
    L_TRANSCRIBE_FAILED: "âŒ à¤Ÿà¥à¤°à¤¾à¤‚à¤¸à¤•à¥à¤°à¤¿à¤ªà¥à¤¶à¤¨ à¤µà¤¿à¤«à¤²",
    L_TRANSCRIBE_USING_SUBS: "à¤¸à¤Ÿà¥€à¤•à¤¤à¤¾ à¤¬à¤¢à¤¼à¤¾à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤‰à¤ªà¤¶à¥€à¤°à¥à¤·à¤• à¤•à¤¾ à¤‰à¤ªà¤¯à¥‹à¤—...",
    L_TRANSCRIBE_USING_MANUSCRIPT: "à¤¸à¤Ÿà¥€à¤•à¤¤à¤¾ à¤¬à¤¢à¤¼à¤¾à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤ªà¤¾à¤‚à¤¡à¥à¤²à¤¿à¤ªà¤¿ à¤•à¤¾ à¤‰à¤ªà¤¯à¥‹à¤—...",
    L_TRANSCRIBE_NO_HINTS: "à¤¬à¤¿à¤¨à¤¾ à¤¸à¤‚à¤•à¥‡à¤¤ à¤•à¥‡ à¤Ÿà¥à¤°à¤¾à¤‚à¤¸à¤•à¥à¤°à¤¾à¤‡à¤¬ à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ...",
    L_TRANSCRIBE_API_KEY_MISSING: "à¤•à¥ƒà¤ªà¤¯à¤¾ OPENAI_API_KEY à¤¸à¥‡à¤Ÿ à¤•à¤°à¥‡à¤‚",
    L_TRANSCRIBE_SPEC_WARN: "à¤…à¤ªà¤°à¥à¤¯à¤¾à¤ªà¥à¤¤ à¤¸à¥à¤ªà¥‡à¤• à¤šà¥‡à¤¤à¤¾à¤µà¤¨à¥€",
    L_OPT_TRANSCRIBE: "à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡ à¤•à¥‡ à¤¬à¤¾à¤¦ à¤Ÿà¥à¤°à¤¾à¤‚à¤¸à¤•à¥à¤°à¤¾à¤‡à¤¬",
    L_OPT_BACKEND: "à¤Ÿà¥à¤°à¤¾à¤‚à¤¸à¤•à¥à¤°à¤¿à¤ªà¥à¤¶à¤¨ à¤¬à¥ˆà¤•à¥‡à¤‚à¤¡ (local/api)",
    L_OPT_MANUSCRIPT: "à¤ªà¤¾à¤‚à¤¡à¥à¤²à¤¿à¤ªà¤¿ à¤«à¤¼à¤¾à¤‡à¤² à¤ªà¤¥ (à¤¸à¤Ÿà¥€à¤•à¤¤à¤¾ à¤•à¥‡ à¤²à¤¿à¤)",
  },
  pt: {
    // check-deps
    missingDeps: "DependÃªncias ausentes:",
    installPrompt: "Instalar automaticamente?",
    installOption: "Instalar",
    installOptionDesc: "Instalar automaticamente via brew",
    skipOption: "Pular",
    skipOptionDesc: "Instalar manualmente",
    installing: "Instalando...",
    installSuccess: "instalado com sucesso",
    installFail: "Falha na instalaÃ§Ã£o. Instale manualmente:",
    brewNotFound: "brew nÃ£o encontrado. Instale manualmente:",
    // interactive
    urlMessage: "URL",
    urlPlaceholder: "https://youtu.be/xxxxx",
    urlRequired: "URL Ã© obrigatÃ³ria.",
    urlInvalidProtocol: "Insira uma URL HTTP/HTTPS vÃ¡lida.",
    urlInvalid: "Insira uma URL vÃ¡lida.",
    modeMessage: "O que baixar?",
    modeVideo: "VÃ­deo",
    modeVideoHint: "melhor qualidade, mp4",
    modeAudio: "Somente Ã¡udio",
    modeAudioHint: "m4a",
    modeInfo: "Apenas informaÃ§Ãµes",
    modeInfoHint: "sem download",
    qualityMessage: "Qualidade",
    qualityBest: "Melhor disponÃ­vel",
    qualityBestHint: "recomendado",
    playlistConfirm: "Parece uma playlist. Baixar todos os vÃ­deos?",
    saveTo: "Salvar em",
    summaryUrl: "URL",
    summaryMode: "Modo",
    summaryAudio: "Ã¡udio (m4a)",
    summaryVideo: "vÃ­deo",
    summarySaveTo: "Salvar em",
    summaryPlaylist: "Playlist",
    summaryYes: "sim",
    summaryTitle: "Resumo",
    startDownload: "Iniciar download?",
    cancelled: "cancelado.",
    done: "concluÃ­do.",
    exitedWithCode: "cÃ³digo de saÃ­da:",
    // pre-download info
    fetchingInfo: "Obtendo informaÃ§Ãµes do vÃ­deo...",
    fetchInfoFailed: "Falha ao obter informaÃ§Ãµes. Verifique a URL.",
    confirmDownload: "Baixar este vÃ­deo?",
    // error recovery
    downloadFailed: "Download falhou",
    retryWithCookie: "Tentar novamente com cookies",
    retryWithCookieDesc: "Tentar novamente usando cookies do navegador (acesso ao Chaves do macOS serÃ¡ solicitado)",
    showDetails: "Ver detalhes",
    showDetailsDesc: "Mostrar detalhes do erro",
    abort: "Cancelar",
    abortDesc: "Cancelar o download",
    retrying: "Tentando novamente com cookies...",
    // advanced settings
    advancedSettings: "ConfiguraÃ§Ãµes avanÃ§adas",
    advancedSettingsHint: "Alterar idiomas de legendas, etc.",
    subLangsMessage: "Idiomas de legendas",
    subLangsDefault: "PadrÃ£o (conforme idioma)",
    subLangsDefaultHint: "pt para portuguÃªs, en para inglÃªs",
    subLangsJaEn: "PortuguÃªs + InglÃªs",
    subLangsAll: "Todos os idiomas",
    subLangsCustom: "Personalizado",
    subLangsCustomHint: "Separados por vÃ­rgula (ex: pt,en,ja)",
    subLangsCustomMessage: "CÃ³digos de idioma de legendas (separados por vÃ­rgula)",
    subLangsCustomPlaceholder: "pt,en,ja",
    subLangsCustomRequired: "Insira os cÃ³digos de idioma.",
    advancedDone: "ConfiguraÃ§Ãµes salvas",
    // transcribe
    L_TRANSCRIBE_ASK: "Transcrever apÃ³s o download?",
    L_TRANSCRIBE_BACKEND: "Selecionar backend",
    L_TRANSCRIBE_BACKEND_LOCAL: "Local (mlx-whisper)",
    L_TRANSCRIBE_BACKEND_API: "API (OpenAI Whisper)",
    L_TRANSCRIBE_SWITCH_API: "Mudar para API",
    L_TRANSCRIBE_CONTINUE_LOCAL: "Continuar com local mesmo assim",
    L_TRANSCRIBE_RUNNING: "ğŸ™  Transcrevendo...",
    L_TRANSCRIBE_DONE: "âœ… TranscriÃ§Ã£o concluÃ­da",
    L_TRANSCRIBE_FAILED: "âŒ TranscriÃ§Ã£o falhou",
    L_TRANSCRIBE_USING_SUBS: "Usando legendas para melhorar a precisÃ£o...",
    L_TRANSCRIBE_USING_MANUSCRIPT: "Usando manuscrito para melhorar a precisÃ£o...",
    L_TRANSCRIBE_NO_HINTS: "Transcrevendo sem dicas...",
    L_TRANSCRIBE_API_KEY_MISSING: "Configure OPENAI_API_KEY",
    L_TRANSCRIBE_SPEC_WARN: "Aviso de especificaÃ§Ãµes insuficientes",
    L_OPT_TRANSCRIBE: "Transcrever apÃ³s download",
    L_OPT_BACKEND: "Backend de transcriÃ§Ã£o (local/api)",
    L_OPT_MANUSCRIPT: "Caminho do manuscrito (para precisÃ£o)",
  },
  id: {
    // check-deps
    missingDeps: "Dependensi tidak ditemukan:",
    installPrompt: "Instal otomatis?",
    installOption: "Instal",
    installOptionDesc: "Instal otomatis via brew",
    skipOption: "Lewati",
    skipOptionDesc: "Instal manual",
    installing: "Menginstal...",
    installSuccess: "berhasil diinstal",
    installFail: "Instalasi gagal. Silakan instal manual:",
    brewNotFound: "brew tidak ditemukan. Silakan instal manual:",
    // interactive
    urlMessage: "URL",
    urlPlaceholder: "https://youtu.be/xxxxx",
    urlRequired: "URL wajib diisi.",
    urlInvalidProtocol: "Masukkan URL HTTP/HTTPS yang valid.",
    urlInvalid: "Masukkan URL yang valid.",
    modeMessage: "Apa yang ingin diunduh?",
    modeVideo: "Video",
    modeVideoHint: "kualitas terbaik, mp4",
    modeAudio: "Audio saja",
    modeAudioHint: "m4a",
    modeInfo: "Tampilkan info saja",
    modeInfoHint: "tanpa unduhan",
    qualityMessage: "Kualitas",
    qualityBest: "Terbaik tersedia",
    qualityBestHint: "disarankan",
    playlistConfirm: "Ini sepertinya playlist. Unduh semua video?",
    saveTo: "Simpan ke",
    summaryUrl: "URL",
    summaryMode: "Mode",
    summaryAudio: "audio (m4a)",
    summaryVideo: "video",
    summarySaveTo: "Simpan ke",
    summaryPlaylist: "Playlist",
    summaryYes: "ya",
    summaryTitle: "Ringkasan",
    startDownload: "Mulai unduh?",
    cancelled: "dibatalkan.",
    done: "selesai.",
    exitedWithCode: "kode keluar:",
    // pre-download info
    fetchingInfo: "Mengambil info video...",
    fetchInfoFailed: "Gagal mengambil info video. Periksa URL.",
    confirmDownload: "Unduh video ini?",
    // error recovery
    downloadFailed: "Unduhan gagal",
    retryWithCookie: "Coba lagi dengan cookie",
    retryWithCookieDesc: "Coba lagi menggunakan cookie browser (akses Keychain macOS diperlukan)",
    showDetails: "Lihat detail",
    showDetailsDesc: "Tampilkan detail error",
    abort: "Batalkan",
    abortDesc: "Batalkan unduhan",
    retrying: "Mencoba lagi dengan cookie...",
    // advanced settings
    advancedSettings: "Pengaturan lanjutan",
    advancedSettingsHint: "Ubah bahasa subtitle, dll.",
    subLangsMessage: "Bahasa subtitle",
    subLangsDefault: "Default (ikuti pengaturan bahasa)",
    subLangsDefaultHint: "id untuk Indonesia, en untuk Inggris",
    subLangsJaEn: "Indonesia + Inggris",
    subLangsAll: "Semua bahasa",
    subLangsCustom: "Kustom",
    subLangsCustomHint: "Pisahkan dengan koma (contoh: id,en,ja)",
    subLangsCustomMessage: "Kode bahasa subtitle (pisahkan dengan koma)",
    subLangsCustomPlaceholder: "id,en,ja",
    subLangsCustomRequired: "Masukkan kode bahasa.",
    advancedDone: "Pengaturan tersimpan",
    // transcribe
    L_TRANSCRIBE_ASK: "Transkrip setelah unduh?",
    L_TRANSCRIBE_BACKEND: "Pilih backend",
    L_TRANSCRIBE_BACKEND_LOCAL: "Lokal (mlx-whisper)",
    L_TRANSCRIBE_BACKEND_API: "API (OpenAI Whisper)",
    L_TRANSCRIBE_SWITCH_API: "Beralih ke API",
    L_TRANSCRIBE_CONTINUE_LOCAL: "Tetap gunakan lokal",
    L_TRANSCRIBE_RUNNING: "ğŸ™  Mentranskrip...",
    L_TRANSCRIBE_DONE: "âœ… Transkripsi selesai",
    L_TRANSCRIBE_FAILED: "âŒ Transkripsi gagal",
    L_TRANSCRIBE_USING_SUBS: "Menggunakan subtitle untuk meningkatkan akurasi...",
    L_TRANSCRIBE_USING_MANUSCRIPT: "Menggunakan manuskrip untuk meningkatkan akurasi...",
    L_TRANSCRIBE_NO_HINTS: "Mentranskrip tanpa petunjuk...",
    L_TRANSCRIBE_API_KEY_MISSING: "Harap atur OPENAI_API_KEY",
    L_TRANSCRIBE_SPEC_WARN: "Peringatan spesifikasi tidak memadai",
    L_OPT_TRANSCRIBE: "Transkrip setelah unduh",
    L_OPT_BACKEND: "Backend transkripsi (local/api)",
    L_OPT_MANUSCRIPT: "Path file manuskrip (untuk akurasi)",
  },
};

const SUPPORTED_LANGS = ["ja", "en", "zh-Hans", "es", "hi", "pt", "id"];

function detectLang() {
  // 1. CLI arg: --lang en
  const idx = process.argv.indexOf("--lang");
  if (idx !== -1 && process.argv[idx + 1]) {
    const lang = process.argv[idx + 1];
    if (!SUPPORTED_LANGS.includes(lang)) {
      console.error(`Error: Unsupported language '${lang}'. Supported: ${SUPPORTED_LANGS.join(", ")}`);
      console.error(`Use --lang <code> (${SUPPORTED_LANGS.join(", ")}), or set YTDL_LANG environment variable.`);
      process.exit(1);
    }
    return lang;
  }
  // 2. Environment variable: YTDL_LANG=en
  if (process.env.YTDL_LANG) {
    const lang = process.env.YTDL_LANG;
    if (!SUPPORTED_LANGS.includes(lang)) {
      console.error(`Error: Unsupported language '${lang}'. Supported: ${SUPPORTED_LANGS.join(", ")}`);
      console.error(`Use --lang <code> (${SUPPORTED_LANGS.join(", ")}), or set YTDL_LANG environment variable.`);
      process.exit(1);
    }
    return lang;
  }
  // 3. Config file: .ytdlrc
  try {
    const content = readFileSync(CONFIG_PATH, "utf-8").trim();
    const match = content.match(/^lang\s*=\s*([\w-]+)/m);
    if (match) {
      const lang = match[1];
      if (!SUPPORTED_LANGS.includes(lang)) {
        console.error(`Error: Unsupported language '${lang}'. Supported: ${SUPPORTED_LANGS.join(", ")}`);
        console.error(`Use --lang <code> (${SUPPORTED_LANGS.join(", ")}), or set YTDL_LANG environment variable.`);
        process.exit(1);
      }
      return lang;
    }
  } catch {
    // no config file
  }
  // 4. Default: ja
  return "ja";
}

const lang = detectLang();
export const t = messages[lang] || messages.ja;
export const currentLang = lang;

import { readFileSync } from "node:fs";
import { join } from "node:path";
import { fileURLToPath } from "node:url";
import { dirname } from "node:path";

const __dirname = dirname(fileURLToPath(import.meta.url));
const CONFIG_PATH = join(__dirname, "..", ".ytdlrc");

export const SUBTITLE_DEFAULTS = {
  ja: "ja,ja-orig",
  en: "en",
  "zh-Hans": "zh-Hans,zh-Hant,zh",
  es: "es",
  hi: "hi",
  pt: "pt,pt-BR",
  id: "id",
};

const messages = {
  ja: {
    // check-deps
    missingDeps: "ф╛ЭхнШуГДуГ╝уГлуБМшжЛуБдуБЛуВКуБ╛уБЫуВУ:",
    installPrompt: "шЗкхЛХуБзуВдуГ│уВ╣уГИуГ╝уГлуБЧуБ╛уБЩуБЛя╝Я",
    installOption: "уВдуГ│уВ╣уГИуГ╝уГлуБЩуВЛ",
    installOptionDesc: "brew install уБзшЗкхЛХуВдуГ│уВ╣уГИуГ╝уГл",
    skipOption: "уВ╣уВнуГГуГЧ",
    skipOptionDesc: "цЙЛхЛХуБзуВдуГ│уВ╣уГИуГ╝уГлуБЩуВЛ",
    installing: "уВТуВдуГ│уВ╣уГИуГ╝уГлф╕н...",
    installSuccess: "уБоуВдуГ│уВ╣уГИуГ╝уГлхоМф║Ж",
    installFail: "уВдуГ│уВ╣уГИуГ╝уГлуБлхд▒цХЧуБЧуБ╛уБЧуБЯуАВцЙЛхЛХуБзуВдуГ│уВ╣уГИуГ╝уГлуБЧуБжуБПуБауБХуБД:",
    brewNotFound: "brew уБМшжЛуБдуБЛуВКуБ╛уБЫуВУуАВф╗еф╕ЛуВТцЙЛхЛХуБзуВдуГ│уВ╣уГИуГ╝уГлуБЧуБжуБПуБауБХуБД:",
    // interactive
    urlMessage: "URL",
    urlPlaceholder: "https://youtu.be/xxxxx",
    urlRequired: "URL уВТхЕехКЫуБЧуБжуБПуБауБХуБДуАВ",
    urlInvalidProtocol: "цЬЙхК╣уБк HTTP/HTTPS URL уВТхЕехКЫуБЧуБжуБПуБауБХуБДуАВ",
    urlInvalid: "цЬЙхК╣уБк URL уВТхЕехКЫуБЧуБжуБПуБауБХуБДуАВ",
    modeMessage: "ф╜ХуВТуГАуВжуГ│уГнуГ╝уГЙуБЧуБ╛уБЩуБЛя╝Я",
    modeVideo: "хЛХчФ╗",
    modeVideoHint: "цЬАщлШчФ╗ш│к, mp4",
    modeAudio: "щЯ│хг░уБоуБ┐",
    modeAudioHint: "m4a",
    modeInfo: "цГЕха▒уБоуБ┐шбичд║",
    modeInfoHint: "уГАуВжуГ│уГнуГ╝уГЙуБЧуБкуБД",
    modeAnalyzer: "уВ╡уВдуГИшзгцЮРя╝ИуГнуВ░уВдуГ│ф╗ШуБНDLя╝Й",
    modeAnalyzerHint: "ф╝ЪхУбщЩРхоЪуВ│уГ│уГЖуГ│уГДуБлхп╛х┐Ь",
    qualityMessage: "чФ╗ш│к",
    qualityBest: "цЬАщлШчФ╗ш│к",
    qualityBestHint: "уБКуБЩуБЩуВБ",
    playlistConfirm: "уГЧуГмуВдуГкуВ╣уГИуБоуВИуБЖуБзуБЩуАВхЕихЛХчФ╗уВТуГАуВжуГ│уГнуГ╝уГЙуБЧуБ╛уБЩуБЛя╝Я",
    saveTo: "ф┐ЭхнШхЕИ",
    summaryUrl: "URL",
    summaryMode: "уГвуГ╝уГЙ",
    summaryAudio: "щЯ│хг░ (m4a)",
    summaryVideo: "хЛХчФ╗",
    summarySaveTo: "ф┐ЭхнШхЕИ",
    summaryPlaylist: "уГЧуГмуВдуГкуВ╣уГИ",
    summaryYes: "уБпуБД",
    summaryTitle: "чв║шкН",
    startDownload: "уГАуВжуГ│уГнуГ╝уГЙуВТщЦЛхзЛуБЧуБ╛уБЩуБЛя╝Я",
    cancelled: "уВнуГгуГ│уВ╗уГлуБЧуБ╛уБЧуБЯуАВ",
    done: "хоМф║Ж",
    exitedWithCode: "ч╡Вф║ЖуВ│уГ╝уГЙ:",
    // pre-download info
    fetchingInfo: "хЛХчФ╗цГЕха▒уВТхПЦх╛Чф╕н...",
    fetchInfoFailed: "хЛХчФ╗цГЕха▒уБохПЦх╛ЧуБлхд▒цХЧуБЧуБ╛уБЧуБЯуАВURLуВТчв║шкНуБЧуБжуБПуБауБХуБДуАВ",
    confirmDownload: "уБУуБохЛХчФ╗уВТуГАуВжуГ│уГнуГ╝уГЙуБЧуБ╛уБЩуБЛя╝Я",
    // error recovery
    downloadFailed: "уГАуВжуГ│уГнуГ╝уГЙуБлхд▒цХЧуБЧуБ╛уБЧуБЯ",
    retryWithCookie: "уВпуГГуВнуГ╝ф╗ШуБНуБзуГкуГИуГйуВд",
    retryWithCookieDesc: "уГЦуГйуВжуВ╢уБоуВпуГГуВнуГ╝уВТф╜┐уБгуБжхЖНшйжшбМя╝ИmacOSуВнуГ╝уГБуВзуГ╝уГ│уБ╕уБоуВвуВпуВ╗уВ╣ши▒хПпуБМх┐ЕшжБя╝Й",
    showDetails: "шй│ч┤░уВТшжЛуВЛ",
    showDetailsDesc: "уВиуГйуГ╝уБошй│ч┤░уВТшбичд║",
    abort: "ф╕нцнв",
    abortDesc: "уГАуВжуГ│уГнуГ╝уГЙуВТф╕нцнвуБЩуВЛ",
    retrying: "уВпуГГуВнуГ╝ф╗ШуБНуБзуГкуГИуГйуВдф╕н...",
    // advanced settings
    advancedSettings: "уВИуВКшй│ч┤░уБкшинхоЪ",
    advancedSettingsHint: "хнЧх╣ХшиАшкЮуБкуБйуВТхдЙцЫ┤",
    subLangsMessage: "хнЧх╣ХшиАшкЮ",
    subLangsDefault: "уГЗуГХуВйуГлуГИя╝ИшиАшкЮшинхоЪуБлх╛УуБЖя╝Й",
    subLangsDefaultHint: "цЧецЬмшкЮуБкуВЙ ja, шЛ▒шкЮуБкуВЙ en",
    subLangsJaEn: "цЧецЬмшкЮ + шЛ▒шкЮ",
    subLangsAll: "хЕишиАшкЮ",
    subLangsCustom: "уВлуВ╣уВ┐уГа",
    subLangsCustomHint: "уВлуГ│уГЮхМ║хИЗуВКуБзхЕехКЫя╝Иф╛Л: ja,en,koя╝Й",
    subLangsCustomMessage: "хнЧх╣ХшиАшкЮуВ│уГ╝уГЙя╝ИуВлуГ│уГЮхМ║хИЗуВКя╝Й",
    subLangsCustomPlaceholder: "ja,en,ko",
    subLangsCustomRequired: "шиАшкЮуВ│уГ╝уГЙуВТхЕехКЫуБЧуБжуБПуБауБХуБД",
    advancedDone: "шинхоЪхоМф║Ж",
    // transcribe
    L_TRANSCRIBE_ASK: "цЦЗхнЧш╡╖уБУуБЧуВТуБЧуБ╛уБЩуБЛя╝Я",
    L_TRANSCRIBE_BACKEND: "уГРуГГуВпуВиуГ│уГЙуВТщБ╕цКЮ",
    L_TRANSCRIBE_BACKEND_LOCAL: "уГнуГ╝уВлуГля╝Иmlx-whisperя╝Й",
    L_TRANSCRIBE_BACKEND_API: "APIя╝ИOpenAI Whisperя╝Й",
    L_TRANSCRIBE_SWITCH_API: "API уБлхИЗуВКцЫ┐уБИуВЛ",
    L_TRANSCRIBE_CONTINUE_LOCAL: "уБЭуВМуБзуВВуГнуГ╝уВлуГлуБзхоЯшбМ",
    L_TRANSCRIBE_RUNNING: "ЁЯОЩ  цЦЗхнЧш╡╖уБУуБЧф╕н...",
    L_TRANSCRIBE_DONE: "тЬЕ цЦЗхнЧш╡╖уБУуБЧхоМф║Ж",
    L_TRANSCRIBE_FAILED: "тЭМ цЦЗхнЧш╡╖уБУуБЧхд▒цХЧ",
    L_TRANSCRIBE_USING_SUBS: "хнЧх╣ХуВТц┤╗чФиуБЧуБжч▓╛х║жуВТхРСф╕Кф╕н...",
    L_TRANSCRIBE_USING_MANUSCRIPT: "хОЯчи┐уВТц┤╗чФиуБЧуБжч▓╛х║жуВТхРСф╕Кф╕н...",
    L_TRANSCRIBE_NO_HINTS: "уГТуГ│уГИуБкуБЧуБзцЦЗхнЧш╡╖уБУуБЧф╕н...",
    L_TRANSCRIBE_API_KEY_MISSING: "OPENAI_API_KEY уВТшинхоЪуБЧуБжуБПуБауБХуБД",
    L_TRANSCRIBE_SPEC_WARN: "уВ╣уГЪуГГуВпф╕Нш╢│уБошнжхСК",
    L_OPT_TRANSCRIBE: "уГАуВжуГ│уГнуГ╝уГЙх╛МуБлцЦЗхнЧш╡╖уБУуБЧ",
    L_OPT_BACKEND: "цЦЗхнЧш╡╖уБУуБЧуГРуГГуВпуВиуГ│уГЙ (local/api)",
    L_OPT_MANUSCRIPT: "хОЯчи┐уГХуВбуВдуГлуГСуВ╣я╝Ич▓╛х║жхРСф╕КчФия╝Й",
    // backend detection
    backendDetected: "уГРуГГуВпуВиуГ│уГЙуВТцдЬхЗ║: {0}",
    backendYtdlp: "yt-dlpя╝ИхЛХчФ╗уВ╡уВдуГИя╝Й",
    backendTorrent: "Torrentя╝ИP2Pя╝Й",
    backendStream: "уВ╣уГИуГкуГ╝уГая╝ИRTMP/RTSPя╝Й",
    backendAnalyzer: "уВ╡уВдуГИшзгцЮР",
    // torrent progress
    torrentProgress: "TorrentуГАуВжуГ│уГнуГ╝уГЙф╕н...",
    torrentPeers: "уГФуВв: {0}",
    torrentSpeed: "щАЯх║ж: {0}",
    // stream recording
    streamDuration: "щМ▓чФ╗цЩВщЦУ",
    streamRecording: "уВ╣уГИуГкуГ╝уГащМ▓чФ╗ф╕н...",
    // site analyzer
    analyzerScanning: "уВ╡уВдуГИуВТшзгцЮРф╕н...",
    analyzerFoundMedia: "уГбуГЗуВгуВвуВТцдЬхЗ║: {0}",
    analyzerDrmDetected: "DRMф┐Эшн╖уВТцдЬхЗ║уАВуГАуВжуГ│уГнуГ╝уГЙуБзуБНуБкуБДхПпшГ╜цАзуБМуБВуВКуБ╛уБЩ",
    analyzerNoMedia: "уГбуГЗуВгуВвуБМшжЛуБдуБЛуВКуБ╛уБЫуВУуБзуБЧуБЯ",
    // error recovery
    ytdlpFailed: "yt-dlpуБзуБохПЦх╛ЧуБлхд▒цХЧ",
    tryAnalyzer: "уВ╡уВдуГИшзгцЮРуВТшйжуБ┐уБ╛уБЩуБЛя╝Я",
    // dependencies
    backendDepMissing: "{0}уБМуВдуГ│уВ╣уГИуГ╝уГлуБХуВМуБжуБДуБ╛уБЫуВУ",
    installBackendDep: "{0}уВТуВдуГ│уВ╣уГИуГ╝уГлуБЧуБ╛уБЩуБЛя╝Я",
    // URL detection
    urlMagnetDetected: "уГЮуВ░уГНуГГуГИуГкуГ│уВпуВТцдЬхЗ║",
    urlStreamDetected: "уВ╣уГИуГкуГ╝уГаURLуВТцдЬхЗ║",
    // CLI options
    optVia: "уГРуГГуВпуВиуГ│уГЙуВТцМЗхоЪ (ytdlp/torrent/stream/analyzer)",
    optAnalyze: "уВ╡уВдуГИшзгцЮРуГвуГ╝уГЙуВТх╝╖хИ╢",
    optDuration: "уВ╣уГИуГкуГ╝уГащМ▓чФ╗цЩВщЦУя╝ИчзТя╝Й",
    // analyzer login
    analyzerLoginPrompt: "уГЦуГйуВжуВ╢уБзуГнуВ░уВдуГ│уБЧуБжуБПуБауБХуБДуАВхоМф║ЖуБЧуБЯуВЙEnterуВТцК╝уБЧуБжуБПуБауБХуБДуАВ",
    analyzerTryLogin: "уГЦуГйуВжуВ╢уБзуГнуВ░уВдуГ│уБЧуБжхЖНшйжшбМуБЧуБ╛уБЩуБЛя╝Я",
    analyzerLaunchingBrowser: "уГЦуГйуВжуВ╢уВТш╡╖хЛХф╕н...",
    analyzerReloading: "уГЪуГ╝уВ╕уВТхЖНшкнуБ┐ш╛╝уБ┐ф╕н...",
    analyzerFreeContentDetected: "чДбцЦЩчЙИ/уГЧуГмуГУуГеуГ╝уБоуБ┐уБМцдЬхЗ║уБХуВМуБ╛уБЧуБЯуАВуГнуВ░уВдуГ│уБЩуВЛуБихоМхЕичЙИуВТхПЦх╛ЧуБзуБНуВЛха┤хРИуБМуБВуВКуБ╛уБЩуАВ",
    analyzerCloseBrowser: "уГЦуГйуВжуВ╢уВТщЦЙуБШуБ╛уБЩуБЛя╝Яя╝ИуБДуБДуБИ: ф╗ЦуБоуВ╡уВдуГИуБзуВВч╢ЪуБСуБжф╜┐уБИуБ╛уБЩя╝Й",
    analyzerBrowserKept: "уГЦуГйуВжуВ╢уБпуГРуГГуВпуВ░уГйуВжуГ│уГЙуБзхЛХф╜Ьф╕нуБзуБЩуАВцЙЛхЛХуБзщЦЙуБШуБжуБПуБауБХуБДуАВ",
    analyzerResultTitle: "шзгцЮРч╡РцЮЬ",
    analyzerMetaTitle: "уВ┐уВдуГИуГл",
    analyzerMetaDuration: "щХ╖уБХ",
    analyzerMetaMedia: "уГбуГЗуВгуВв",
    analyzerConfirmAction: "уБйуБЖуБЧуБ╛уБЩуБЛя╝Я",
    analyzerActionDownload: "уБУуБоуБ╛уБ╛уГАуВжуГ│уГнуГ╝уГЙ",
    analyzerActionLogin: "уГЦуГйуВжуВ╢уБзуГнуВ░уВдуГ│уБЧуБжхЖНхПЦх╛Ч",
    analyzerActionLoginHint: "ф╝ЪхУбщЩРхоЪуВ│уГ│уГЖуГ│уГДуБоха┤хРИ",
    // open directory
    openDir: "ф┐ЭхнШхЕИуГХуВйуГлуГАуВТщЦЛуБНуБ╛уБЩуБЛя╝Я",
    // post-download action
    postDownloadDone: "уГАуВжуГ│уГнуГ╝уГЙуБМхоМф║ЖуБЧуБ╛уБЧуБЯуАВцмбуБоуВвуВпуВ╖уГзуГ│уВТщБ╕уВУуБзуБПуБауБХуБДуАВ",
    postDownloadFinish: "хоМф║Ж",
    postDownloadAnalyze: "уВ╡уВдуГИшзгцЮРуБзхЖНхПЦх╛Чя╝ИуГнуВ░уВдуГ│ф╗ШуБНя╝Й",
    postDownloadAnalyzeHint: "ф╝ЪхУбщЩРхоЪуВ│уГ│уГЖуГ│уГДуВТхПЦх╛ЧуБЧуБЯуБДха┤хРИ",
    // analyzer overwrite
    analyzerExistingFile: "цЧвуБлуГАуВжуГ│уГнуГ╝уГЙц╕ИуБ┐уБоуГХуВбуВдуГлуБМшжЛуБдуБЛуВКуБ╛уБЧуБЯ: {0}",
    analyzerOverwriteAction: "хРМхРНуБоуГХуВбуВдуГлуБМхнШхЬиуБЧуБ╛уБЩ",
    analyzerOverwrite: "ф╕КцЫ╕уБНуБЩуВЛ",
    analyzerRename: "хИехРНуБзф┐ЭхнШ (_2, _3...)",
    // analyzer profile consent
    analyzerProfileExplain: "уВ╡уВдуГИшзгцЮРуБзуБп Chrome уГЦуГйуВжуВ╢уБоуГЧуГнуГХуВбуВдуГлуВТф╜┐чФиуБЧуБ╛уБЩуАВ\nц░╕ч╢ЪуГЧуГнуГХуВбуВдуГлуВТцЬЙхК╣уБлуБЩуВЛуБиуАБуГнуВ░уВдуГ│чК╢цЕЛуБМф┐ЭцМБуБХуВМцмбхЫЮф╗ещЩНуБохЖНуГнуВ░уВдуГ│уБМф╕НшжБуБлуБкуВКуБ╛уБЩуАВ\nуГЧуГнуГХуВбуВдуГлуБпф╗еф╕ЛуБлф┐ЭхнШуБХуВМуБ╛уБЩ:",
    analyzerProfilePath: "  {0}",
    analyzerProfileConfirm: "ц░╕ч╢ЪуГЧуГнуГХуВбуВдуГлуВТцЬЙхК╣уБлуБЧуБ╛уБЩуБЛя╝Я",
    // settings menu
    settingsTitle: "шинхоЪ",
    settingsBack: "цИ╗уВЛ",
    settingsPersistentProfile: "ц░╕ч╢Ъ Chrome уГЧуГнуГХуВбуВдуГл",
    settingsPersistentProfileHint: "уГнуВ░уВдуГ│чК╢цЕЛуВТф┐ЭцМБ",
    settingsEnabled: "цЬЙхК╣",
    settingsDisabled: "чДбхК╣",
    settingsOpenDir: "уГАуВжуГ│уГнуГ╝уГЙх╛МуБлуГХуВйуГлуГАуВТщЦЛуБП",
    settingsOpenDirHint: "чТ░хвГхдЙцХ░ YTDL_OPEN_DIR уБзуВВшинхоЪхПп",
    settingsOpenDirAuto: "шЗкхЛХуБзщЦЛуБП",
    settingsOpenDirAsk: "цпОхЫЮчв║шкНуБЩуВЛ",
    settingsOpenDirNever: "щЦЛуБЛуБкуБД",
    settingsSaved: "шинхоЪуВТф┐ЭхнШуБЧуБ╛уБЧуБЯ",
    settingsMenu: "шинхоЪуВТщЦЛуБП",
  },
  en: {
    // check-deps
    missingDeps: "Missing dependencies:",
    installPrompt: "Install automatically?",
    installOption: "Install",
    installOptionDesc: "Auto-install via brew",
    skipOption: "Skip",
    skipOptionDesc: "Install manually",
    installing: "Installing",
    installSuccess: "installed successfully",
    installFail: "Installation failed. Please install manually:",
    brewNotFound: "brew not found. Please install manually:",
    // interactive
    urlMessage: "URL",
    urlPlaceholder: "https://youtu.be/xxxxx",
    urlRequired: "URL is required.",
    urlInvalidProtocol: "Enter a valid HTTP/HTTPS URL.",
    urlInvalid: "Enter a valid URL.",
    modeMessage: "What to download?",
    modeVideo: "Video",
    modeVideoHint: "best quality, mp4",
    modeAudio: "Audio only",
    modeAudioHint: "m4a",
    modeInfo: "Show info only",
    modeInfoHint: "no download",
    modeAnalyzer: "Site analyzer (login-enabled DL)",
    modeAnalyzerHint: "For members-only content",
    qualityMessage: "Quality",
    qualityBest: "Best available",
    qualityBestHint: "recommended",
    playlistConfirm: "This looks like a playlist. Download all videos?",
    saveTo: "Save to",
    summaryUrl: "URL",
    summaryMode: "Mode",
    summaryAudio: "audio (m4a)",
    summaryVideo: "video",
    summarySaveTo: "Save to",
    summaryPlaylist: "Playlist",
    summaryYes: "yes",
    summaryTitle: "Summary",
    startDownload: "Start download?",
    cancelled: "cancelled.",
    done: "done.",
    exitedWithCode: "exited with code",
    // pre-download info
    fetchingInfo: "Fetching video info...",
    fetchInfoFailed: "Failed to fetch video info. Please check the URL.",
    confirmDownload: "Download this video?",
    // error recovery
    downloadFailed: "Download failed",
    retryWithCookie: "Retry with cookies",
    retryWithCookieDesc: "Retry using browser cookies (macOS Keychain access will be requested)",
    showDetails: "Show details",
    showDetailsDesc: "Show error details",
    abort: "Abort",
    abortDesc: "Cancel the download",
    retrying: "Retrying with cookies...",
    // advanced settings
    advancedSettings: "Advanced settings",
    advancedSettingsHint: "Change subtitle languages, etc.",
    subLangsMessage: "Subtitle languages",
    subLangsDefault: "Default (follow language setting)",
    subLangsDefaultHint: "ja for Japanese, en for English",
    subLangsJaEn: "English + Japanese",
    subLangsAll: "All languages",
    subLangsCustom: "Custom",
    subLangsCustomHint: "Enter comma-separated codes (e.g. ja,en,ko)",
    subLangsCustomMessage: "Subtitle language codes (comma-separated)",
    subLangsCustomPlaceholder: "ja,en,ko",
    subLangsCustomRequired: "Enter language codes.",
    advancedDone: "Settings saved",
    // transcribe
    L_TRANSCRIBE_ASK: "Transcribe after download?",
    L_TRANSCRIBE_BACKEND: "Select backend",
    L_TRANSCRIBE_BACKEND_LOCAL: "Local (mlx-whisper)",
    L_TRANSCRIBE_BACKEND_API: "API (OpenAI Whisper)",
    L_TRANSCRIBE_SWITCH_API: "Switch to API",
    L_TRANSCRIBE_CONTINUE_LOCAL: "Continue with local anyway",
    L_TRANSCRIBE_RUNNING: "ЁЯОЩ  Transcribing...",
    L_TRANSCRIBE_DONE: "тЬЕ Transcription complete",
    L_TRANSCRIBE_FAILED: "тЭМ Transcription failed",
    L_TRANSCRIBE_USING_SUBS: "Using subtitles to improve accuracy...",
    L_TRANSCRIBE_USING_MANUSCRIPT: "Using manuscript to improve accuracy...",
    L_TRANSCRIBE_NO_HINTS: "Transcribing without hints...",
    L_TRANSCRIBE_API_KEY_MISSING: "Please set OPENAI_API_KEY",
    L_TRANSCRIBE_SPEC_WARN: "Insufficient specs warning",
    L_OPT_TRANSCRIBE: "Transcribe after download",
    L_OPT_BACKEND: "Transcribe backend (local/api)",
    L_OPT_MANUSCRIPT: "Manuscript file path (for accuracy)",
    // backend detection
    backendDetected: "Backend detected: {0}",
    backendYtdlp: "yt-dlp (video sites)",
    backendTorrent: "Torrent (P2P)",
    backendStream: "Stream (RTMP/RTSP)",
    backendAnalyzer: "Site analyzer",
    // torrent progress
    torrentProgress: "Downloading via torrent...",
    torrentPeers: "Peers: {0}",
    torrentSpeed: "Speed: {0}",
    // stream recording
    streamDuration: "Recording duration",
    streamRecording: "Recording stream...",
    // site analyzer
    analyzerScanning: "Scanning site...",
    analyzerFoundMedia: "Media found: {0}",
    analyzerDrmDetected: "DRM protection detected. Download may not be possible.",
    analyzerNoMedia: "No media found.",
    // error recovery
    ytdlpFailed: "yt-dlp fetch failed",
    tryAnalyzer: "Try site analyzer?",
    // dependencies
    backendDepMissing: "{0} is not installed",
    installBackendDep: "Install {0}?",
    // URL detection
    urlMagnetDetected: "Magnet link detected",
    urlStreamDetected: "Stream URL detected",
    // CLI options
    optVia: "Specify backend (ytdlp/torrent/stream/analyzer)",
    optAnalyze: "Force site analyzer mode",
    optDuration: "Stream recording duration (seconds)",
    // analyzer login
    analyzerLoginPrompt: "Please log in via the browser. Press Enter when done.",
    analyzerTryLogin: "Try logging in via browser and retry?",
    analyzerLaunchingBrowser: "Launching browser...",
    analyzerReloading: "Reloading page...",
    analyzerFreeContentDetected: "Only free/preview version detected. Logging in may provide the full version.",
    analyzerCloseBrowser: "Close browser? (No: keep it for other sites)",
    analyzerBrowserKept: "Browser is running in the background. Close it manually when done.",
    analyzerResultTitle: "Analysis result",
    analyzerMetaTitle: "Title",
    analyzerMetaDuration: "Duration",
    analyzerMetaMedia: "Media",
    analyzerConfirmAction: "What would you like to do?",
    analyzerActionDownload: "Download as-is",
    analyzerActionLogin: "Log in via browser and re-scan",
    analyzerActionLoginHint: "For members-only content",
    // open directory
    openDir: "Open the download folder?",
    // post-download action
    postDownloadDone: "Download complete. Choose next action.",
    postDownloadFinish: "Done",
    postDownloadAnalyze: "Re-download via site analyzer (with login)",
    postDownloadAnalyzeHint: "For members-only content",
    // analyzer overwrite
    analyzerExistingFile: "Previously downloaded file found: {0}",
    analyzerOverwriteAction: "A file with the same name exists",
    analyzerOverwrite: "Overwrite",
    analyzerRename: "Save with new name (_2, _3...)",
    // analyzer profile consent
    analyzerProfileExplain: "Site analysis uses a Chrome browser profile.\nEnabling a persistent profile preserves your login state so you won't need to log in again.\nThe profile will be saved at:",
    analyzerProfilePath: "  {0}",
    analyzerProfileConfirm: "Enable persistent profile?",
    // settings menu
    settingsTitle: "Settings",
    settingsBack: "Back",
    settingsPersistentProfile: "Persistent Chrome profile",
    settingsPersistentProfileHint: "Preserve login state",
    settingsEnabled: "Enabled",
    settingsDisabled: "Disabled",
    settingsOpenDir: "Open folder after download",
    settingsOpenDirHint: "Also configurable via YTDL_OPEN_DIR env var",
    settingsOpenDirAuto: "Open automatically",
    settingsOpenDirAsk: "Ask every time",
    settingsOpenDirNever: "Never open",
    settingsSaved: "Settings saved",
    settingsMenu: "Open settings",
  },
  "zh-Hans": {
    // check-deps
    missingDeps: "ч╝║х░Сф╛Эш╡Цх╖ехЕ╖я╝Ъ",
    installPrompt: "цШпхРжшЗкхКихоЙшгЕя╝Я",
    installOption: "хоЙшгЕ",
    installOptionDesc: "щАЪш┐З brew install шЗкхКихоЙшгЕ",
    skipOption: "ш╖│ш┐З",
    skipOptionDesc: "цЙЛхКихоЙшгЕ",
    installing: "цнгхЬихоЙшгЕ...",
    installSuccess: "хоЙшгЕхоМцИР",
    installFail: "хоЙшгЕхд▒ш┤еуАВшп╖цЙЛхКихоЙшгЕя╝Ъ",
    brewNotFound: "цЬкцЙ╛хИ░ brewуАВшп╖цЙЛхКихоЙшгЕф╗еф╕Лх╖ехЕ╖я╝Ъ",
    // interactive
    urlMessage: "URL",
    urlPlaceholder: "https://youtu.be/xxxxx",
    urlRequired: "шп╖ш╛УхЕе URLуАВ",
    urlInvalidProtocol: "шп╖ш╛УхЕецЬЙцХИчЪД HTTP/HTTPS URLуАВ",
    urlInvalid: "шп╖ш╛УхЕецЬЙцХИчЪД URLуАВ",
    modeMessage: "шжБф╕Лш╜╜ф╗Аф╣Ия╝Я",
    modeVideo: "шзЖщвС",
    modeVideoHint: "цЬАщлШчФ╗ш┤и, mp4",
    modeAudio: "ф╗ЕщЯ│щвС",
    modeAudioHint: "m4a",
    modeInfo: "ф╗ЕцШ╛чд║ф┐бцБп",
    modeInfoHint: "ф╕Нф╕Лш╜╜",
    modeAnalyzer: "ч╜СчлЩхИЖцЮРя╝Их╕жчЩ╗х╜Хф╕Лш╜╜я╝Й",
    modeAnalyzerHint: "щАВчФиф║Оф╝ЪхСШф╕Ух▒ЮхЖЕхо╣",
    qualityMessage: "чФ╗ш┤и",
    qualityBest: "цЬАщлШчФ╗ш┤и",
    qualityBestHint: "цОишНР",
    playlistConfirm: "ш┐Щф╝╝ф╣ОцШпцТнцФ╛хИЧшбиуАВшжБф╕Лш╜╜цЙАцЬЙшзЖщвСхРЧя╝Я",
    saveTo: "ф┐ЭхнШхИ░",
    summaryUrl: "URL",
    summaryMode: "цибх╝П",
    summaryAudio: "щЯ│щвС (m4a)",
    summaryVideo: "шзЖщвС",
    summarySaveTo: "ф┐ЭхнШхИ░",
    summaryPlaylist: "цТнцФ╛хИЧшби",
    summaryYes: "цШп",
    summaryTitle: "чбошод",
    startDownload: "х╝АхзЛф╕Лш╜╜я╝Я",
    cancelled: "х╖▓хПЦц╢ИуАВ",
    done: "хоМцИР",
    exitedWithCode: "щААхЗ║ф╗гчаБя╝Ъ",
    // pre-download info
    fetchingInfo: "цнгхЬишО╖хПЦшзЖщвСф┐бцБп...",
    fetchInfoFailed: "шО╖хПЦшзЖщвСф┐бцБпхд▒ш┤еуАВшп╖цгАцЯе URLуАВ",
    confirmDownload: "шжБф╕Лш╜╜цндшзЖщвСхРЧя╝Я",
    // error recovery
    downloadFailed: "ф╕Лш╜╜хд▒ш┤е",
    retryWithCookie: "ф╜┐чФи Cookie щЗНшпХ",
    retryWithCookieDesc: "ф╜┐чФиц╡ПшзИхЩи Cookie щЗНшпХя╝ИщЬАшжБ macOS щТехМЩф╕▓шо┐щЧоцЭГщЩРя╝Й",
    showDetails: "цЯечЬЛшпжцГЕ",
    showDetailsDesc: "цШ╛чд║щФЩшппшпжцГЕ",
    abort: "ф╕нцнв",
    abortDesc: "ф╕нцнвф╕Лш╜╜",
    retrying: "цнгхЬиф╜┐чФи Cookie щЗНшпХ...",
    // advanced settings
    advancedSettings: "цЫ┤хдЪшо╛ч╜о",
    advancedSettingsHint: "цЫ┤цФ╣хнЧх╣ХшпншиАчнЙ",
    subLangsMessage: "хнЧх╣ХшпншиА",
    subLangsDefault: "щ╗Шшодя╝Иш╖ЯщЪПшпншиАшо╛ч╜оя╝Й",
    subLangsDefaultHint: "ф╕нцЦЗф╕║ zh-Hansя╝МшЛ▒шпнф╕║ en",
    subLangsJaEn: "ф╕нцЦЗ + шЛ▒шпн",
    subLangsAll: "хЕищГишпншиА",
    subLangsCustom: "шЗкхоЪф╣Й",
    subLangsCustomHint: "щАЧхП╖хИЖщЪФш╛УхЕея╝Иф╛Ля╝Ъzh-Hans,en,jaя╝Й",
    subLangsCustomMessage: "хнЧх╣ХшпншиАф╗гчаБя╝ИщАЧхП╖хИЖщЪФя╝Й",
    subLangsCustomPlaceholder: "zh-Hans,en,ja",
    subLangsCustomRequired: "шп╖ш╛УхЕешпншиАф╗гчаБ",
    advancedDone: "шо╛ч╜охоМцИР",
    // transcribe
    L_TRANSCRIBE_ASK: "ф╕Лш╜╜хРОш┐ЫшбМшпнщЯ│ш╜мцЦЗхнЧя╝Я",
    L_TRANSCRIBE_BACKEND: "щАЙцЛйхРОчлп",
    L_TRANSCRIBE_BACKEND_LOCAL: "цЬмхЬ░я╝Иmlx-whisperя╝Й",
    L_TRANSCRIBE_BACKEND_API: "APIя╝ИOpenAI Whisperя╝Й",
    L_TRANSCRIBE_SWITCH_API: "хИЗцНвхИ░ API",
    L_TRANSCRIBE_CONTINUE_LOCAL: "ф╗НчД╢ф╜┐чФицЬмхЬ░",
    L_TRANSCRIBE_RUNNING: "ЁЯОЩ  шпнщЯ│ш╜мцЦЗхнЧф╕н...",
    L_TRANSCRIBE_DONE: "тЬЕ шпнщЯ│ш╜мцЦЗхнЧхоМцИР",
    L_TRANSCRIBE_FAILED: "тЭМ шпнщЯ│ш╜мцЦЗхнЧхд▒ш┤е",
    L_TRANSCRIBE_USING_SUBS: "хИйчФихнЧх╣ХцПРщлШхЗЖчбох║ж...",
    L_TRANSCRIBE_USING_MANUSCRIPT: "хИйчФихОЯчи┐цПРщлШхЗЖчбох║ж...",
    L_TRANSCRIBE_NO_HINTS: "цЧацПРчд║ш╜мх╜Хф╕н...",
    L_TRANSCRIBE_API_KEY_MISSING: "шп╖шо╛ч╜о OPENAI_API_KEY",
    L_TRANSCRIBE_SPEC_WARN: "щЕНч╜оф╕Нш╢│шнжхСК",
    L_OPT_TRANSCRIBE: "ф╕Лш╜╜хРОш┐ЫшбМшпнщЯ│ш╜мцЦЗхнЧ",
    L_OPT_BACKEND: "ш╜мх╜ХхРОчлп (local/api)",
    L_OPT_MANUSCRIPT: "хОЯчи┐цЦЗф╗╢ш╖пх╛Дя╝ИцПРщлШхЗЖчбох║жя╝Й",
    // backend detection
    backendDetected: "цгАц╡ЛхИ░хРОчлп: {0}",
    backendYtdlp: "yt-dlpя╝ИшзЖщвСч╜СчлЩя╝Й",
    backendTorrent: "Torrentя╝ИP2Pя╝Й",
    backendStream: "ц╡БхкТф╜Уя╝ИRTMP/RTSPя╝Й",
    backendAnalyzer: "ч╜СчлЩхИЖцЮР",
    // torrent progress
    torrentProgress: "цнгхЬищАЪш┐З Torrent ф╕Лш╜╜...",
    torrentPeers: "шКВчВ╣: {0}",
    torrentSpeed: "щАЯх║ж: {0}",
    // stream recording
    streamDuration: "х╜ХхИ╢цЧ╢щХ┐",
    streamRecording: "цнгхЬих╜ХхИ╢ц╡БхкТф╜У...",
    // site analyzer
    analyzerScanning: "цнгхЬихИЖцЮРч╜СчлЩ...",
    analyzerFoundMedia: "цгАц╡ЛхИ░хкТф╜У: {0}",
    analyzerDrmDetected: "цгАц╡ЛхИ░ DRM ф┐ЭцКдя╝МхПпшГ╜цЧац│Хф╕Лш╜╜",
    analyzerNoMedia: "цЬкцЙ╛хИ░хкТф╜У",
    // error recovery
    ytdlpFailed: "yt-dlp шО╖хПЦхд▒ш┤е",
    tryAnalyzer: "х░ЭшпХч╜СчлЩхИЖцЮРя╝Я",
    // dependencies
    backendDepMissing: "{0} цЬкхоЙшгЕ",
    installBackendDep: "хоЙшгЕ {0}я╝Я",
    // URL detection
    urlMagnetDetected: "цгАц╡ЛхИ░чгБхКЫщУ╛цОе",
    urlStreamDetected: "цгАц╡ЛхИ░ц╡БхкТф╜У URL",
    // CLI options
    optVia: "цМЗхоЪхРОчлп (ytdlp/torrent/stream/analyzer)",
    optAnalyze: "х╝║хИ╢ч╜СчлЩхИЖцЮРцибх╝П",
    optDuration: "ц╡БхкТф╜Ух╜ХхИ╢цЧ╢щХ┐я╝ИчзТя╝Й",
    // analyzer login
    analyzerLoginPrompt: "шп╖хЬиц╡ПшзИхЩиф╕нчЩ╗х╜ХуАВхоМцИРхРОцМЙ EnterуАВ",
    analyzerTryLogin: "щАЪш┐Зц╡ПшзИхЩичЩ╗х╜Хх╣╢щЗНшпХя╝Я",
    analyzerLaunchingBrowser: "цнгхЬихРпхКиц╡ПшзИхЩи...",
    analyzerReloading: "цнгхЬищЗНцЦ░хКаш╜╜щб╡щЭв...",
    analyzerFreeContentDetected: "ф╗ЕцгАц╡ЛхИ░хЕНш┤╣/щвДшзИчЙИцЬмуАВчЩ╗х╜ХхРОхПпшГ╜шО╖хПЦхоМцХ┤чЙИцЬмуАВ",
    analyzerCloseBrowser: "хЕ│щЧнц╡ПшзИхЩия╝Яя╝ИхРжя╝ЪхПпч╗зч╗нчФиф║ОхЕ╢ф╗Цч╜СчлЩя╝Й",
    analyzerBrowserKept: "ц╡ПшзИхЩихЬихРОхП░ш┐РшбМф╕нуАВшп╖цЙЛхКихЕ│щЧнуАВ",
    analyzerResultTitle: "хИЖцЮРч╗УцЮЬ",
    analyzerMetaTitle: "цаЗщвШ",
    analyzerMetaDuration: "цЧ╢щХ┐",
    analyzerMetaMedia: "хкТф╜У",
    analyzerConfirmAction: "цВицГ│цАОф╣ИхБЪя╝Я",
    analyzerActionDownload: "чЫ┤цОеф╕Лш╜╜",
    analyzerActionLogin: "щАЪш┐Зц╡ПшзИхЩичЩ╗х╜Хх╣╢щЗНцЦ░цЙлцПП",
    analyzerActionLoginHint: "щАВчФиф║Оф╝ЪхСШф╕Ух▒ЮхЖЕхо╣",
    // open directory
    openDir: "цЙУх╝Аф╕Лш╜╜цЦЗф╗╢хд╣я╝Я",
    // post-download action
    postDownloadDone: "ф╕Лш╜╜хоМцИРуАВшп╖щАЙцЛйф╕Лф╕АцнецУНф╜ЬуАВ",
    postDownloadFinish: "хоМцИР",
    postDownloadAnalyze: "щАЪш┐Зч╜СчлЩхИЖцЮРщЗНцЦ░ф╕Лш╜╜я╝Их╕жчЩ╗х╜Хя╝Й",
    postDownloadAnalyzeHint: "щАВчФиф║Оф╝ЪхСШф╕Ух▒ЮхЖЕхо╣",
    // analyzer overwrite
    analyzerExistingFile: "хПСчО░х╖▓ф╕Лш╜╜чЪДцЦЗф╗╢: {0}",
    analyzerOverwriteAction: "хнШхЬихРМхРНцЦЗф╗╢",
    analyzerOverwrite: "шжЖчЫЦ",
    analyzerRename: "хПжхнШф╕║цЦ░хРНчз░ (_2, _3...)",
    // analyzer profile consent
    analyzerProfileExplain: "ч╜СчлЩхИЖцЮРф╜┐чФи Chrome ц╡ПшзИхЩищЕНч╜оцЦЗф╗╢уАВ\nхРпчФицМБф╣ЕщЕНч╜оцЦЗф╗╢хПпф┐ЭчХЩчЩ╗х╜ХчК╢цАБя╝МцЧащЬАхЖНцмбчЩ╗х╜ХуАВ\nщЕНч╜оцЦЗф╗╢х░Жф┐ЭхнШхЬия╝Ъ",
    analyzerProfilePath: "  {0}",
    analyzerProfileConfirm: "хРпчФицМБф╣ЕщЕНч╜оцЦЗф╗╢я╝Я",
    // settings menu
    settingsTitle: "шо╛ч╜о",
    settingsBack: "ш┐ФхЫЮ",
    settingsPersistentProfile: "цМБф╣Е Chrome щЕНч╜оцЦЗф╗╢",
    settingsPersistentProfileHint: "ф┐ЭчХЩчЩ╗х╜ХчК╢цАБ",
    settingsEnabled: "х╖▓хРпчФи",
    settingsDisabled: "х╖▓чжБчФи",
    settingsOpenDir: "ф╕Лш╜╜хРОцЙУх╝АцЦЗф╗╢хд╣",
    settingsOpenDirHint: "ф╣ЯхПпщАЪш┐З YTDL_OPEN_DIR чОпхвГхПШщЗПщЕНч╜о",
    settingsOpenDirAuto: "шЗкхКицЙУх╝А",
    settingsOpenDirAsk: "цпПцмбшпвщЧо",
    settingsOpenDirNever: "ф╕НцЙУх╝А",
    settingsSaved: "шо╛ч╜ох╖▓ф┐ЭхнШ",
    settingsMenu: "цЙУх╝Ашо╛ч╜о",
  },
  es: {
    // check-deps
    missingDeps: "Faltan dependencias:",
    installPrompt: "┬┐Instalar autom├бticamente?",
    installOption: "Instalar",
    installOptionDesc: "Instalar autom├бticamente con brew",
    skipOption: "Omitir",
    skipOptionDesc: "Instalar manualmente",
    installing: "Instalando...",
    installSuccess: "instalado correctamente",
    installFail: "Error en la instalaci├│n. Instale manualmente:",
    brewNotFound: "brew no encontrado. Instale manualmente:",
    // interactive
    urlMessage: "URL",
    urlPlaceholder: "https://youtu.be/xxxxx",
    urlRequired: "Se requiere una URL.",
    urlInvalidProtocol: "Ingrese una URL HTTP/HTTPS v├бlida.",
    urlInvalid: "Ingrese una URL v├бlida.",
    modeMessage: "┬┐Qu├й descargar?",
    modeVideo: "Video",
    modeVideoHint: "mejor calidad, mp4",
    modeAudio: "Solo audio",
    modeAudioHint: "m4a",
    modeInfo: "Solo informaci├│n",
    modeInfoHint: "sin descarga",
    modeAnalyzer: "Analizador de sitios (descarga con inicio de sesi├│n)",
    modeAnalyzerHint: "Para contenido exclusivo de miembros",
    qualityMessage: "Calidad",
    qualityBest: "Mejor disponible",
    qualityBestHint: "recomendado",
    playlistConfirm: "Parece una lista de reproducci├│n. ┬┐Descargar todos los videos?",
    saveTo: "Guardar en",
    summaryUrl: "URL",
    summaryMode: "Modo",
    summaryAudio: "audio (m4a)",
    summaryVideo: "video",
    summarySaveTo: "Guardar en",
    summaryPlaylist: "Lista de reproducci├│n",
    summaryYes: "s├н",
    summaryTitle: "Resumen",
    startDownload: "┬┐Iniciar descarga?",
    cancelled: "cancelado.",
    done: "completado.",
    exitedWithCode: "c├│digo de salida:",
    // pre-download info
    fetchingInfo: "Obteniendo informaci├│n del video...",
    fetchInfoFailed: "Error al obtener informaci├│n. Verifique la URL.",
    confirmDownload: "┬┐Descargar este video?",
    // error recovery
    downloadFailed: "Descarga fallida",
    retryWithCookie: "Reintentar con cookies",
    retryWithCookieDesc: "Reintentar usando cookies del navegador (se solicitar├б acceso al llavero de macOS)",
    showDetails: "Ver detalles",
    showDetailsDesc: "Mostrar detalles del error",
    abort: "Cancelar",
    abortDesc: "Cancelar la descarga",
    retrying: "Reintentando con cookies...",
    // advanced settings
    advancedSettings: "Configuraci├│n avanzada",
    advancedSettingsHint: "Cambiar idiomas de subt├нtulos, etc.",
    subLangsMessage: "Idiomas de subt├нtulos",
    subLangsDefault: "Predeterminado (seg├║n idioma)",
    subLangsDefaultHint: "es para espa├▒ol, en para ingl├йs",
    subLangsJaEn: "Espa├▒ol + Ingl├йs",
    subLangsAll: "Todos los idiomas",
    subLangsCustom: "Personalizado",
    subLangsCustomHint: "Separados por comas (ej: es,en,ja)",
    subLangsCustomMessage: "C├│digos de idioma de subt├нtulos (separados por comas)",
    subLangsCustomPlaceholder: "es,en,ja",
    subLangsCustomRequired: "Ingrese los c├│digos de idioma.",
    advancedDone: "Configuraci├│n guardada",
    // transcribe
    L_TRANSCRIBE_ASK: "┬┐Transcribir despu├йs de descargar?",
    L_TRANSCRIBE_BACKEND: "Seleccionar backend",
    L_TRANSCRIBE_BACKEND_LOCAL: "Local (mlx-whisper)",
    L_TRANSCRIBE_BACKEND_API: "API (OpenAI Whisper)",
    L_TRANSCRIBE_SWITCH_API: "Cambiar a API",
    L_TRANSCRIBE_CONTINUE_LOCAL: "Continuar con local de todas formas",
    L_TRANSCRIBE_RUNNING: "ЁЯОЩ  Transcribiendo...",
    L_TRANSCRIBE_DONE: "тЬЕ Transcripci├│n completada",
    L_TRANSCRIBE_FAILED: "тЭМ Transcripci├│n fallida",
    L_TRANSCRIBE_USING_SUBS: "Usando subt├нtulos para mejorar la precisi├│n...",
    L_TRANSCRIBE_USING_MANUSCRIPT: "Usando manuscrito para mejorar la precisi├│n...",
    L_TRANSCRIBE_NO_HINTS: "Transcribiendo sin pistas...",
    L_TRANSCRIBE_API_KEY_MISSING: "Configure OPENAI_API_KEY",
    L_TRANSCRIBE_SPEC_WARN: "Advertencia de especificaciones insuficientes",
    L_OPT_TRANSCRIBE: "Transcribir despu├йs de descargar",
    L_OPT_BACKEND: "Backend de transcripci├│n (local/api)",
    L_OPT_MANUSCRIPT: "Ruta del manuscrito (para mejorar precisi├│n)",
    // backend detection
    backendDetected: "Backend detectado: {0}",
    backendYtdlp: "yt-dlp (sitios de video)",
    backendTorrent: "Torrent (P2P)",
    backendStream: "Stream (RTMP/RTSP)",
    backendAnalyzer: "Analizador de sitios",
    // torrent progress
    torrentProgress: "Descargando via torrent...",
    torrentPeers: "Pares: {0}",
    torrentSpeed: "Velocidad: {0}",
    // stream recording
    streamDuration: "Duraci├│n de grabaci├│n",
    streamRecording: "Grabando stream...",
    // site analyzer
    analyzerScanning: "Analizando sitio...",
    analyzerFoundMedia: "Medios encontrados: {0}",
    analyzerDrmDetected: "Protecci├│n DRM detectada. Es posible que no se pueda descargar.",
    analyzerNoMedia: "No se encontraron medios.",
    // error recovery
    ytdlpFailed: "Error al obtener con yt-dlp",
    tryAnalyzer: "┬┐Intentar con el analizador de sitios?",
    // dependencies
    backendDepMissing: "{0} no est├б instalado",
    installBackendDep: "┬┐Instalar {0}?",
    // URL detection
    urlMagnetDetected: "Enlace magnet detectado",
    urlStreamDetected: "URL de stream detectada",
    // CLI options
    optVia: "Especificar backend (ytdlp/torrent/stream/analyzer)",
    optAnalyze: "Forzar modo analizador de sitios",
    optDuration: "Duraci├│n de grabaci├│n de stream (segundos)",
    // analyzer login
    analyzerLoginPrompt: "Inicie sesi├│n en el navegador. Presione Enter cuando termine.",
    analyzerTryLogin: "┬┐Iniciar sesi├│n en el navegador y reintentar?",
    analyzerLaunchingBrowser: "Iniciando navegador...",
    analyzerReloading: "Recargando p├бgina...",
    analyzerFreeContentDetected: "Solo se detect├│ la versi├│n gratuita/vista previa. Iniciar sesi├│n puede proporcionar la versi├│n completa.",
    analyzerCloseBrowser: "┬┐Cerrar el navegador? (No: seguir us├бndolo para otros sitios)",
    analyzerBrowserKept: "El navegador sigue ejecut├бndose en segundo plano. Ci├йrrelo manualmente.",
    analyzerResultTitle: "Resultado del an├бlisis",
    analyzerMetaTitle: "T├нtulo",
    analyzerMetaDuration: "Duraci├│n",
    analyzerMetaMedia: "Medios",
    analyzerConfirmAction: "┬┐Qu├й desea hacer?",
    analyzerActionDownload: "Descargar tal cual",
    analyzerActionLogin: "Iniciar sesi├│n y volver a escanear",
    analyzerActionLoginHint: "Para contenido exclusivo de miembros",
    // open directory
    openDir: "┬┐Abrir la carpeta de descargas?",
    postDownloadDone: "Descarga completa. Elija la siguiente acci├│n.",
    postDownloadFinish: "Listo",
    postDownloadAnalyze: "Volver a descargar con analizador de sitios (con inicio de sesi├│n)",
    postDownloadAnalyzeHint: "Para contenido exclusivo de miembros",
    analyzerExistingFile: "Se encontr├│ un archivo descargado anteriormente: {0}",
    analyzerOverwriteAction: "Ya existe un archivo con el mismo nombre",
    analyzerOverwrite: "Sobrescribir",
    analyzerRename: "Guardar con nuevo nombre (_2, _3...)",
    // analyzer profile consent
    analyzerProfileExplain: "El an├бlisis de sitios utiliza un perfil del navegador Chrome.\nHabilitar un perfil persistente conserva su estado de inicio de sesi├│n para no necesitar iniciar sesi├│n nuevamente.\nEl perfil se guardar├б en:",
    analyzerProfilePath: "  {0}",
    analyzerProfileConfirm: "┬┐Habilitar perfil persistente?",
    // settings menu
    settingsTitle: "Configuraci├│n",
    settingsBack: "Volver",
    settingsPersistentProfile: "Perfil persistente de Chrome",
    settingsPersistentProfileHint: "Conservar estado de inicio de sesi├│n",
    settingsEnabled: "Habilitado",
    settingsDisabled: "Deshabilitado",
    settingsOpenDir: "Abrir carpeta despu├йs de descargar",
    settingsOpenDirHint: "Tambi├йn configurable con YTDL_OPEN_DIR",
    settingsOpenDirAuto: "Abrir autom├бticamente",
    settingsOpenDirAsk: "Preguntar cada vez",
    settingsOpenDirNever: "No abrir",
    settingsSaved: "Configuraci├│n guardada",
    settingsMenu: "Abrir configuraci├│n",
  },
  hi: {
    // check-deps
    missingDeps: "рдЖрд╡рд╢реНрдпрдХ рдЯреВрд▓ рдирд╣реАрдВ рдорд┐рд▓реЗ:",
    installPrompt: "рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ?",
    installOption: "рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ",
    installOptionDesc: "brew install рд╕реЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЗрдВрд╕реНрдЯреЙрд▓",
    skipOption: "рдЫреЛрдбрд╝реЗрдВ",
    skipOptionDesc: "рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ",
    installing: "рдЗрдВрд╕реНрдЯреЙрд▓ рд╣реЛ рд░рд╣рд╛ рд╣реИ...",
    installSuccess: "рдЗрдВрд╕реНрдЯреЙрд▓ рд╕рдлрд▓",
    installFail: "рдЗрдВрд╕реНрдЯреЙрд▓ рд╡рд┐рдлрд▓ред рдХреГрдкрдпрд╛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ:",
    brewNotFound: "brew рдирд╣реАрдВ рдорд┐рд▓рд╛ред рдХреГрдкрдпрд╛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ:",
    // interactive
    urlMessage: "URL",
    urlPlaceholder: "https://youtu.be/xxxxx",
    urlRequired: "URL рдЖрд╡рд╢реНрдпрдХ рд╣реИред",
    urlInvalidProtocol: "рдХреГрдкрдпрд╛ рдорд╛рдиреНрдп HTTP/HTTPS URL рджрд░реНрдЬ рдХрд░реЗрдВред",
    urlInvalid: "рдХреГрдкрдпрд╛ рдорд╛рдиреНрдп URL рджрд░реНрдЬ рдХрд░реЗрдВред",
    modeMessage: "рдХреНрдпрд╛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рд╣реИ?",
    modeVideo: "рд╡реАрдбрд┐рдпреЛ",
    modeVideoHint: "рд╕рд░реНрд╡рд╢реНрд░реЗрд╖реНрда рдЧреБрдгрд╡рддреНрддрд╛, mp4",
    modeAudio: "рдХреЗрд╡рд▓ рдСрдбрд┐рдпреЛ",
    modeAudioHint: "m4a",
    modeInfo: "рдХреЗрд╡рд▓ рдЬрд╛рдирдХрд╛рд░реА рджрд┐рдЦрд╛рдПрдБ",
    modeInfoHint: "рдбрд╛рдЙрдирд▓реЛрдб рдирд╣реАрдВ",
    modeAnalyzer: "рд╕рд╛рдЗрдЯ рд╡рд┐рд╢реНрд▓реЗрд╖рдХ (рд▓реЙрдЧрд┐рди рд╕рд╣рд┐рдд рдбрд╛рдЙрдирд▓реЛрдб)",
    modeAnalyzerHint: "рд╕рджрд╕реНрдп-рд╡рд┐рд╢реЗрд╖ рд╕рд╛рдордЧреНрд░реА рдХреЗ рд▓рд┐рдП",
    qualityMessage: "рдЧреБрдгрд╡рддреНрддрд╛",
    qualityBest: "рд╕рд░реНрд╡рд╢реНрд░реЗрд╖реНрда рдЙрдкрд▓рдмреНрдз",
    qualityBestHint: "рдЕрдиреБрд╢рдВрд╕рд┐рдд",
    playlistConfirm: "рдпрд╣ рдкреНрд▓реЗрд▓рд┐рд╕реНрдЯ рд▓рдЧрддреА рд╣реИред рд╕рднреА рд╡реАрдбрд┐рдпреЛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ?",
    saveTo: "рдпрд╣рд╛рдБ рд╕реЗрд╡ рдХрд░реЗрдВ",
    summaryUrl: "URL",
    summaryMode: "рдореЛрдб",
    summaryAudio: "рдСрдбрд┐рдпреЛ (m4a)",
    summaryVideo: "рд╡реАрдбрд┐рдпреЛ",
    summarySaveTo: "рдпрд╣рд╛рдБ рд╕реЗрд╡ рдХрд░реЗрдВ",
    summaryPlaylist: "рдкреНрд▓реЗрд▓рд┐рд╕реНрдЯ",
    summaryYes: "рд╣рд╛рдБ",
    summaryTitle: "рд╕рд╛рд░рд╛рдВрд╢",
    startDownload: "рдбрд╛рдЙрдирд▓реЛрдб рд╢реБрд░реВ рдХрд░реЗрдВ?",
    cancelled: "рд░рджреНрдж рдХрд┐рдпрд╛ рдЧрдпрд╛ред",
    done: "рдкреВрд░реНрдг",
    exitedWithCode: "рдПрдЧреНрдЬрд╝рд┐рдЯ рдХреЛрдб:",
    // pre-download info
    fetchingInfo: "рд╡реАрдбрд┐рдпреЛ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рд╣реЛ рд░рд╣реА рд╣реИ...",
    fetchInfoFailed: "рд╡реАрдбрд┐рдпреЛ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдореЗрдВ рд╡рд┐рдлрд▓ред рдХреГрдкрдпрд╛ URL рдЬрд╛рдБрдЪреЗрдВред",
    confirmDownload: "рдпрд╣ рд╡реАрдбрд┐рдпреЛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ?",
    // error recovery
    downloadFailed: "рдбрд╛рдЙрдирд▓реЛрдб рд╡рд┐рдлрд▓",
    retryWithCookie: "рдХреБрдХреА рдХреЗ рд╕рд╛рде рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕",
    retryWithCookieDesc: "рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреБрдХреА рд╕реЗ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ (macOS рдХреАрдЪреЗрди рдПрдХреНрд╕реЗрд╕ рдЖрд╡рд╢реНрдпрдХ)",
    showDetails: "рд╡рд┐рд╡рд░рдг рджреЗрдЦреЗрдВ",
    showDetailsDesc: "рддреНрд░реБрдЯрд┐ рд╡рд┐рд╡рд░рдг рджрд┐рдЦрд╛рдПрдБ",
    abort: "рд░рджреНрдж рдХрд░реЗрдВ",
    abortDesc: "рдбрд╛рдЙрдирд▓реЛрдб рд░рджреНрдж рдХрд░реЗрдВ",
    retrying: "рдХреБрдХреА рдХреЗ рд╕рд╛рде рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рд╣реЛ рд░рд╣рд╛ рд╣реИ...",
    // advanced settings
    advancedSettings: "рдЙрдиреНрдирдд рд╕реЗрдЯрд┐рдВрдЧреНрд╕",
    advancedSettingsHint: "рдЙрдкрд╢реАрд░реНрд╖рдХ рднрд╛рд╖рд╛рдПрдБ рдЖрджрд┐ рдмрджрд▓реЗрдВ",
    subLangsMessage: "рдЙрдкрд╢реАрд░реНрд╖рдХ рднрд╛рд╖рд╛рдПрдБ",
    subLangsDefault: "рдбрд┐рдлрд╝реЙрд▓реНрдЯ (рднрд╛рд╖рд╛ рд╕реЗрдЯрд┐рдВрдЧ рдХреЗ рдЕрдиреБрд╕рд╛рд░)",
    subLangsDefaultHint: "рд╣рд┐рдВрджреА рдХреЗ рд▓рд┐рдП hi, рдЕрдВрдЧреНрд░реЗрдЬрд╝реА рдХреЗ рд▓рд┐рдП en",
    subLangsJaEn: "рд╣рд┐рдВрджреА + рдЕрдВрдЧреНрд░реЗрдЬрд╝реА",
    subLangsAll: "рд╕рднреА рднрд╛рд╖рд╛рдПрдБ",
    subLangsCustom: "рдХрд╕реНрдЯрдо",
    subLangsCustomHint: "рдХреЙрдорд╛ рд╕реЗ рдЕрд▓рдЧ рдХрд░реЗрдВ (рдЙрджрд╛: hi,en,ja)",
    subLangsCustomMessage: "рдЙрдкрд╢реАрд░реНрд╖рдХ рднрд╛рд╖рд╛ рдХреЛрдб (рдХреЙрдорд╛ рд╕реЗ рдЕрд▓рдЧ)",
    subLangsCustomPlaceholder: "hi,en,ja",
    subLangsCustomRequired: "рдХреГрдкрдпрд╛ рднрд╛рд╖рд╛ рдХреЛрдб рджрд░реНрдЬ рдХрд░реЗрдВ",
    advancedDone: "рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╕реЗрд╡ рд╣реЛ рдЧрдИрдВ",
    // transcribe
    L_TRANSCRIBE_ASK: "рдбрд╛рдЙрдирд▓реЛрдб рдХреЗ рдмрд╛рдж рдЯреНрд░рд╛рдВрд╕рдХреНрд░рд╛рдЗрдм рдХрд░реЗрдВ?",
    L_TRANSCRIBE_BACKEND: "рдмреИрдХреЗрдВрдб рдЪреБрдиреЗрдВ",
    L_TRANSCRIBE_BACKEND_LOCAL: "рд╕реНрдерд╛рдиреАрдп (mlx-whisper)",
    L_TRANSCRIBE_BACKEND_API: "API (OpenAI Whisper)",
    L_TRANSCRIBE_SWITCH_API: "API рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВ",
    L_TRANSCRIBE_CONTINUE_LOCAL: "рдлрд┐рд░ рднреА рд╕реНрдерд╛рдиреАрдп рд╕реЗ рдЪрд▓рд╛рдПрдБ",
    L_TRANSCRIBE_RUNNING: "ЁЯОЩ  рдЯреНрд░рд╛рдВрд╕рдХреНрд░рд╛рдЗрдм рд╣реЛ рд░рд╣рд╛ рд╣реИ...",
    L_TRANSCRIBE_DONE: "тЬЕ рдЯреНрд░рд╛рдВрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреВрд░реНрдг",
    L_TRANSCRIBE_FAILED: "тЭМ рдЯреНрд░рд╛рдВрд╕рдХреНрд░рд┐рдкреНрд╢рди рд╡рд┐рдлрд▓",
    L_TRANSCRIBE_USING_SUBS: "рд╕рдЯреАрдХрддрд╛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрд╢реАрд░реНрд╖рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ...",
    L_TRANSCRIBE_USING_MANUSCRIPT: "рд╕рдЯреАрдХрддрд╛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╛рдВрдбреБрд▓рд┐рдкрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ...",
    L_TRANSCRIBE_NO_HINTS: "рдмрд┐рдирд╛ рд╕рдВрдХреЗрдд рдХреЗ рдЯреНрд░рд╛рдВрд╕рдХреНрд░рд╛рдЗрдм рд╣реЛ рд░рд╣рд╛ рд╣реИ...",
    L_TRANSCRIBE_API_KEY_MISSING: "рдХреГрдкрдпрд╛ OPENAI_API_KEY рд╕реЗрдЯ рдХрд░реЗрдВ",
    L_TRANSCRIBE_SPEC_WARN: "рдЕрдкрд░реНрдпрд╛рдкреНрдд рд╕реНрдкреЗрдХ рдЪреЗрддрд╛рд╡рдиреА",
    L_OPT_TRANSCRIBE: "рдбрд╛рдЙрдирд▓реЛрдб рдХреЗ рдмрд╛рдж рдЯреНрд░рд╛рдВрд╕рдХреНрд░рд╛рдЗрдм",
    L_OPT_BACKEND: "рдЯреНрд░рд╛рдВрд╕рдХреНрд░рд┐рдкреНрд╢рди рдмреИрдХреЗрдВрдб (local/api)",
    L_OPT_MANUSCRIPT: "рдкрд╛рдВрдбреБрд▓рд┐рдкрд┐ рдлрд╝рд╛рдЗрд▓ рдкрде (рд╕рдЯреАрдХрддрд╛ рдХреЗ рд▓рд┐рдП)",
    // backend detection
    backendDetected: "рдмреИрдХреЗрдВрдб рдХрд╛ рдкрддрд╛ рдЪрд▓рд╛: {0}",
    backendYtdlp: "yt-dlp (рд╡реАрдбрд┐рдпреЛ рд╕рд╛рдЗрдЯреНрд╕)",
    backendTorrent: "Torrent (P2P)",
    backendStream: "рд╕реНрдЯреНрд░реАрдо (RTMP/RTSP)",
    backendAnalyzer: "рд╕рд╛рдЗрдЯ рд╡рд┐рд╢реНрд▓реЗрд╖рдХ",
    // torrent progress
    torrentProgress: "Torrent рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рд╣реЛ рд░рд╣рд╛ рд╣реИ...",
    torrentPeers: "рдкреАрдпрд░: {0}",
    torrentSpeed: "рдЧрддрд┐: {0}",
    // stream recording
    streamDuration: "рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдЕрд╡рдзрд┐",
    streamRecording: "рд╕реНрдЯреНрд░реАрдо рд░рд┐рдХреЙрд░реНрдб рд╣реЛ рд░рд╣реА рд╣реИ...",
    // site analyzer
    analyzerScanning: "рд╕рд╛рдЗрдЯ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рд╣реЛ рд░рд╣рд╛ рд╣реИ...",
    analyzerFoundMedia: "рдореАрдбрд┐рдпрд╛ рдорд┐рд▓рд╛: {0}",
    analyzerDrmDetected: "DRM рд╕реБрд░рдХреНрд╖рд╛ рдорд┐рд▓реАред рдбрд╛рдЙрдирд▓реЛрдб рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ред",
    analyzerNoMedia: "рдХреЛрдИ рдореАрдбрд┐рдпрд╛ рдирд╣реАрдВ рдорд┐рд▓рд╛ред",
    // error recovery
    ytdlpFailed: "yt-dlp рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдореЗрдВ рд╡рд┐рдлрд▓",
    tryAnalyzer: "рд╕рд╛рдЗрдЯ рд╡рд┐рд╢реНрд▓реЗрд╖рдХ рдЖрдЬрд╝рдорд╛рдПрдБ?",
    // dependencies
    backendDepMissing: "{0} рдЗрдВрд╕реНрдЯреЙрд▓ рдирд╣реАрдВ рд╣реИ",
    installBackendDep: "{0} рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ?",
    // URL detection
    urlMagnetDetected: "рдореИрдЧреНрдиреЗрдЯ рд▓рд┐рдВрдХ рдорд┐рд▓рд╛",
    urlStreamDetected: "рд╕реНрдЯреНрд░реАрдо URL рдорд┐рд▓рд╛",
    // CLI options
    optVia: "рдмреИрдХреЗрдВрдб рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВ (ytdlp/torrent/stream/analyzer)",
    optAnalyze: "рд╕рд╛рдЗрдЯ рд╡рд┐рд╢реНрд▓реЗрд╖рдХ рдореЛрдб рдмрд╛рдзреНрдп рдХрд░реЗрдВ",
    optDuration: "рд╕реНрдЯреНрд░реАрдо рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдЕрд╡рдзрд┐ (рд╕реЗрдХрдВрдб)",
    // analyzer login
    analyzerLoginPrompt: "рдХреГрдкрдпрд╛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рд▓реЙрдЧрд┐рди рдХрд░реЗрдВред рдкреВрд░рд╛ рд╣реЛрдиреЗ рдкрд░ Enter рджрдмрд╛рдПрдБред",
    analyzerTryLogin: "рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╕реЗ рд▓реЙрдЧрд┐рди рдХрд░рдХреЗ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ?",
    analyzerLaunchingBrowser: "рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд▓реЙрдиреНрдЪ рд╣реЛ рд░рд╣рд╛ рд╣реИ...",
    analyzerReloading: "рдкреЗрдЬ рд░реАрд▓реЛрдб рд╣реЛ рд░рд╣рд╛ рд╣реИ...",
    analyzerFreeContentDetected: "рдХреЗрд╡рд▓ рдореБрдлрд╝реНрдд/рдкреНрд░реАрд╡реНрдпреВ рд╕рдВрд╕реНрдХрд░рдг рдорд┐рд▓рд╛ред рд▓реЙрдЧрд┐рди рдХрд░рдиреЗ рдкрд░ рдкреВрд░реНрдг рд╕рдВрд╕реНрдХрд░рдг рдорд┐рд▓ рд╕рдХрддрд╛ рд╣реИред",
    analyzerCloseBrowser: "рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдмрдВрдж рдХрд░реЗрдВ? (рдирд╣реАрдВ: рдЕрдиреНрдп рд╕рд╛рдЗрдЯреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдЬрд╛рд░реА рд░рдЦреЗрдВ)",
    analyzerBrowserKept: "рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдмреИрдХрдЧреНрд░рд╛рдЙрдВрдб рдореЗрдВ рдЪрд▓ рд░рд╣рд╛ рд╣реИред рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдмрдВрдж рдХрд░реЗрдВред",
    analyzerResultTitle: "рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдкрд░рд┐рдгрд╛рдо",
    analyzerMetaTitle: "рд╢реАрд░реНрд╖рдХ",
    analyzerMetaDuration: "рдЕрд╡рдзрд┐",
    analyzerMetaMedia: "рдореАрдбрд┐рдпрд╛",
    analyzerConfirmAction: "рдЖрдк рдХреНрдпрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣реЗрдВрдЧреЗ?",
    analyzerActionDownload: "рдЗрд╕реА рддрд░рд╣ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ",
    analyzerActionLogin: "рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╕реЗ рд▓реЙрдЧрд┐рди рдХрд░рдХреЗ рдкреБрдирдГ рд╕реНрдХреИрди рдХрд░реЗрдВ",
    analyzerActionLoginHint: "рд╕рджрд╕реНрдп-рд╡рд┐рд╢реЗрд╖ рд╕рд╛рдордЧреНрд░реА рдХреЗ рд▓рд┐рдП",
    // open directory
    openDir: "рдбрд╛рдЙрдирд▓реЛрдб рдлрд╝реЛрд▓реНрдбрд░ рдЦреЛрд▓реЗрдВ?",
    postDownloadDone: "рдбрд╛рдЙрдирд▓реЛрдб рдкреВрд░реНрдгред рдЕрдЧрд▓реА рдХрд╛рд░реНрд░рд╡рд╛рдИ рдЪреБрдиреЗрдВред",
    postDownloadFinish: "рдкреВрд░реНрдг",
    postDownloadAnalyze: "рд╕рд╛рдЗрдЯ рд╡рд┐рд╢реНрд▓реЗрд╖рдХ рд╕реЗ рдкреБрдирдГ рдбрд╛рдЙрдирд▓реЛрдб (рд▓реЙрдЧрд┐рди рд╕рд╣рд┐рдд)",
    postDownloadAnalyzeHint: "рд╕рджрд╕реНрдп-рд╡рд┐рд╢реЗрд╖ рд╕рд╛рдордЧреНрд░реА рдХреЗ рд▓рд┐рдП",
    analyzerExistingFile: "рдкрд╣рд▓реЗ рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХреА рдЧрдИ рдлрд╝рд╛рдЗрд▓ рдорд┐рд▓реА: {0}",
    analyzerOverwriteAction: "рд╕рдорд╛рди рдирд╛рдо рдХреА рдлрд╝рд╛рдЗрд▓ рдореМрдЬреВрдж рд╣реИ",
    analyzerOverwrite: "рдЕрдзрд┐рд▓реЗрдЦрд┐рдд рдХрд░реЗрдВ",
    analyzerRename: "рдирдП рдирд╛рдо рд╕реЗ рд╕реЗрд╡ рдХрд░реЗрдВ (_2, _3...)",
    // analyzer profile consent
    analyzerProfileExplain: "рд╕рд╛рдЗрдЯ рд╡рд┐рд╢реНрд▓реЗрд╖рдг Chrome рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред\nрд╕реНрдерд╛рдпреА рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рд╕реЗ рд▓реЙрдЧрд┐рди рд╕реНрдерд┐рддрд┐ рдмрдиреА рд░рд╣рддреА рд╣реИ рдФрд░ рджреЛрдмрд╛рд░рд╛ рд▓реЙрдЧрд┐рди рдХреА рдЬрд╝рд░реВрд░рдд рдирд╣реАрдВ рд╣реЛрддреАред\nрдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдпрд╣рд╛рдБ рд╕рд╣реЗрдЬреА рдЬрд╛рдПрдЧреА:",
    analyzerProfilePath: "  {0}",
    analyzerProfileConfirm: "рд╕реНрдерд╛рдпреА рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рд╕рдХреНрд╖рдо рдХрд░реЗрдВ?",
    // settings menu
    settingsTitle: "рд╕реЗрдЯрд┐рдВрдЧреНрд╕",
    settingsBack: "рд╡рд╛рдкрд╕",
    settingsPersistentProfile: "рд╕реНрдерд╛рдпреА Chrome рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓",
    settingsPersistentProfileHint: "рд▓реЙрдЧрд┐рди рд╕реНрдерд┐рддрд┐ рдмрдирд╛рдП рд░рдЦреЗрдВ",
    settingsEnabled: "рд╕рдХреНрд╖рдо",
    settingsDisabled: "рдЕрдХреНрд╖рдо",
    settingsOpenDir: "рдбрд╛рдЙрдирд▓реЛрдб рдХреЗ рдмрд╛рдж рдлрд╝реЛрд▓реНрдбрд░ рдЦреЛрд▓реЗрдВ",
    settingsOpenDirHint: "YTDL_OPEN_DIR рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╡реЗрд░рд┐рдПрдмрд▓ рд╕реЗ рднреА рд╕реЗрдЯ рдХрд░реЗрдВ",
    settingsOpenDirAuto: "рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЦреЛрд▓реЗрдВ",
    settingsOpenDirAsk: "рд╣рд░ рдмрд╛рд░ рдкреВрдЫреЗрдВ",
    settingsOpenDirNever: "рдХрднреА рди рдЦреЛрд▓реЗрдВ",
    settingsSaved: "рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╕рд╣реЗрдЬреА рдЧрдИрдВ",
    settingsMenu: "рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдЦреЛрд▓реЗрдВ",
  },
  pt: {
    // check-deps
    missingDeps: "Depend├кncias ausentes:",
    installPrompt: "Instalar automaticamente?",
    installOption: "Instalar",
    installOptionDesc: "Instalar automaticamente via brew",
    skipOption: "Pular",
    skipOptionDesc: "Instalar manualmente",
    installing: "Instalando...",
    installSuccess: "instalado com sucesso",
    installFail: "Falha na instala├з├гo. Instale manualmente:",
    brewNotFound: "brew n├гo encontrado. Instale manualmente:",
    // interactive
    urlMessage: "URL",
    urlPlaceholder: "https://youtu.be/xxxxx",
    urlRequired: "URL ├й obrigat├│ria.",
    urlInvalidProtocol: "Insira uma URL HTTP/HTTPS v├бlida.",
    urlInvalid: "Insira uma URL v├бlida.",
    modeMessage: "O que baixar?",
    modeVideo: "V├нdeo",
    modeVideoHint: "melhor qualidade, mp4",
    modeAudio: "Somente ├бudio",
    modeAudioHint: "m4a",
    modeInfo: "Apenas informa├з├╡es",
    modeInfoHint: "sem download",
    modeAnalyzer: "Analisador de sites (download com login)",
    modeAnalyzerHint: "Para conte├║do exclusivo de membros",
    qualityMessage: "Qualidade",
    qualityBest: "Melhor dispon├нvel",
    qualityBestHint: "recomendado",
    playlistConfirm: "Parece uma playlist. Baixar todos os v├нdeos?",
    saveTo: "Salvar em",
    summaryUrl: "URL",
    summaryMode: "Modo",
    summaryAudio: "├бudio (m4a)",
    summaryVideo: "v├нdeo",
    summarySaveTo: "Salvar em",
    summaryPlaylist: "Playlist",
    summaryYes: "sim",
    summaryTitle: "Resumo",
    startDownload: "Iniciar download?",
    cancelled: "cancelado.",
    done: "conclu├нdo.",
    exitedWithCode: "c├│digo de sa├нda:",
    // pre-download info
    fetchingInfo: "Obtendo informa├з├╡es do v├нdeo...",
    fetchInfoFailed: "Falha ao obter informa├з├╡es. Verifique a URL.",
    confirmDownload: "Baixar este v├нdeo?",
    // error recovery
    downloadFailed: "Download falhou",
    retryWithCookie: "Tentar novamente com cookies",
    retryWithCookieDesc: "Tentar novamente usando cookies do navegador (acesso ao Chaves do macOS ser├б solicitado)",
    showDetails: "Ver detalhes",
    showDetailsDesc: "Mostrar detalhes do erro",
    abort: "Cancelar",
    abortDesc: "Cancelar o download",
    retrying: "Tentando novamente com cookies...",
    // advanced settings
    advancedSettings: "Configura├з├╡es avan├зadas",
    advancedSettingsHint: "Alterar idiomas de legendas, etc.",
    subLangsMessage: "Idiomas de legendas",
    subLangsDefault: "Padr├гo (conforme idioma)",
    subLangsDefaultHint: "pt para portugu├кs, en para ingl├кs",
    subLangsJaEn: "Portugu├кs + Ingl├кs",
    subLangsAll: "Todos os idiomas",
    subLangsCustom: "Personalizado",
    subLangsCustomHint: "Separados por v├нrgula (ex: pt,en,ja)",
    subLangsCustomMessage: "C├│digos de idioma de legendas (separados por v├нrgula)",
    subLangsCustomPlaceholder: "pt,en,ja",
    subLangsCustomRequired: "Insira os c├│digos de idioma.",
    advancedDone: "Configura├з├╡es salvas",
    // transcribe
    L_TRANSCRIBE_ASK: "Transcrever ap├│s o download?",
    L_TRANSCRIBE_BACKEND: "Selecionar backend",
    L_TRANSCRIBE_BACKEND_LOCAL: "Local (mlx-whisper)",
    L_TRANSCRIBE_BACKEND_API: "API (OpenAI Whisper)",
    L_TRANSCRIBE_SWITCH_API: "Mudar para API",
    L_TRANSCRIBE_CONTINUE_LOCAL: "Continuar com local mesmo assim",
    L_TRANSCRIBE_RUNNING: "ЁЯОЩ  Transcrevendo...",
    L_TRANSCRIBE_DONE: "тЬЕ Transcri├з├гo conclu├нda",
    L_TRANSCRIBE_FAILED: "тЭМ Transcri├з├гo falhou",
    L_TRANSCRIBE_USING_SUBS: "Usando legendas para melhorar a precis├гo...",
    L_TRANSCRIBE_USING_MANUSCRIPT: "Usando manuscrito para melhorar a precis├гo...",
    L_TRANSCRIBE_NO_HINTS: "Transcrevendo sem dicas...",
    L_TRANSCRIBE_API_KEY_MISSING: "Configure OPENAI_API_KEY",
    L_TRANSCRIBE_SPEC_WARN: "Aviso de especifica├з├╡es insuficientes",
    L_OPT_TRANSCRIBE: "Transcrever ap├│s download",
    L_OPT_BACKEND: "Backend de transcri├з├гo (local/api)",
    L_OPT_MANUSCRIPT: "Caminho do manuscrito (para precis├гo)",
    // backend detection
    backendDetected: "Backend detectado: {0}",
    backendYtdlp: "yt-dlp (sites de v├нdeo)",
    backendTorrent: "Torrent (P2P)",
    backendStream: "Stream (RTMP/RTSP)",
    backendAnalyzer: "Analisador de sites",
    // torrent progress
    torrentProgress: "Baixando via torrent...",
    torrentPeers: "Peers: {0}",
    torrentSpeed: "Velocidade: {0}",
    // stream recording
    streamDuration: "Dura├з├гo da grava├з├гo",
    streamRecording: "Gravando stream...",
    // site analyzer
    analyzerScanning: "Analisando site...",
    analyzerFoundMedia: "M├нdia encontrada: {0}",
    analyzerDrmDetected: "Prote├з├гo DRM detectada. O download pode n├гo ser poss├нvel.",
    analyzerNoMedia: "Nenhuma m├нdia encontrada.",
    // error recovery
    ytdlpFailed: "Falha ao obter com yt-dlp",
    tryAnalyzer: "Tentar com o analisador de sites?",
    // dependencies
    backendDepMissing: "{0} n├гo est├б instalado",
    installBackendDep: "Instalar {0}?",
    // URL detection
    urlMagnetDetected: "Link magnet detectado",
    urlStreamDetected: "URL de stream detectada",
    // CLI options
    optVia: "Especificar backend (ytdlp/torrent/stream/analyzer)",
    optAnalyze: "For├зar modo analisador de sites",
    optDuration: "Dura├з├гo de grava├з├гo do stream (segundos)",
    // analyzer login
    analyzerLoginPrompt: "Fa├зa login no navegador. Pressione Enter quando terminar.",
    analyzerTryLogin: "Fazer login no navegador e tentar novamente?",
    analyzerLaunchingBrowser: "Iniciando navegador...",
    analyzerReloading: "Recarregando p├бgina...",
    analyzerFreeContentDetected: "Apenas a vers├гo gratuita/pr├йvia foi detectada. Fazer login pode fornecer a vers├гo completa.",
    analyzerCloseBrowser: "Fechar o navegador? (N├гo: continuar usando para outros sites)",
    analyzerBrowserKept: "O navegador est├б executando em segundo plano. Feche manualmente.",
    analyzerResultTitle: "Resultado da an├бlise",
    analyzerMetaTitle: "T├нtulo",
    analyzerMetaDuration: "Dura├з├гo",
    analyzerMetaMedia: "M├нdia",
    analyzerConfirmAction: "O que deseja fazer?",
    analyzerActionDownload: "Baixar como est├б",
    analyzerActionLogin: "Fazer login e verificar novamente",
    analyzerActionLoginHint: "Para conte├║do exclusivo de membros",
    // open directory
    openDir: "Abrir a pasta de downloads?",
    postDownloadDone: "Download conclu├нdo. Escolha a pr├│xima a├з├гo.",
    postDownloadFinish: "Conclu├нdo",
    postDownloadAnalyze: "Baixar novamente via analisador de sites (com login)",
    postDownloadAnalyzeHint: "Para conte├║do exclusivo de membros",
    analyzerExistingFile: "Arquivo baixado anteriormente encontrado: {0}",
    analyzerOverwriteAction: "J├б existe um arquivo com o mesmo nome",
    analyzerOverwrite: "Sobrescrever",
    analyzerRename: "Salvar com novo nome (_2, _3...)",
    // analyzer profile consent
    analyzerProfileExplain: "A an├бlise de sites usa um perfil do navegador Chrome.\nHabilitar um perfil persistente preserva seu estado de login para n├гo precisar fazer login novamente.\nO perfil ser├б salvo em:",
    analyzerProfilePath: "  {0}",
    analyzerProfileConfirm: "Habilitar perfil persistente?",
    // settings menu
    settingsTitle: "Configura├з├╡es",
    settingsBack: "Voltar",
    settingsPersistentProfile: "Perfil Chrome persistente",
    settingsPersistentProfileHint: "Preservar estado de login",
    settingsEnabled: "Habilitado",
    settingsDisabled: "Desabilitado",
    settingsOpenDir: "Abrir pasta ap├│s download",
    settingsOpenDirHint: "Tamb├йm configur├бvel via YTDL_OPEN_DIR",
    settingsOpenDirAuto: "Abrir automaticamente",
    settingsOpenDirAsk: "Perguntar sempre",
    settingsOpenDirNever: "Nunca abrir",
    settingsSaved: "Configura├з├╡es salvas",
    settingsMenu: "Abrir configura├з├╡es",
  },
  id: {
    // check-deps
    missingDeps: "Dependensi tidak ditemukan:",
    installPrompt: "Instal otomatis?",
    installOption: "Instal",
    installOptionDesc: "Instal otomatis via brew",
    skipOption: "Lewati",
    skipOptionDesc: "Instal manual",
    installing: "Menginstal...",
    installSuccess: "berhasil diinstal",
    installFail: "Instalasi gagal. Silakan instal manual:",
    brewNotFound: "brew tidak ditemukan. Silakan instal manual:",
    // interactive
    urlMessage: "URL",
    urlPlaceholder: "https://youtu.be/xxxxx",
    urlRequired: "URL wajib diisi.",
    urlInvalidProtocol: "Masukkan URL HTTP/HTTPS yang valid.",
    urlInvalid: "Masukkan URL yang valid.",
    modeMessage: "Apa yang ingin diunduh?",
    modeVideo: "Video",
    modeVideoHint: "kualitas terbaik, mp4",
    modeAudio: "Audio saja",
    modeAudioHint: "m4a",
    modeInfo: "Tampilkan info saja",
    modeInfoHint: "tanpa unduhan",
    modeAnalyzer: "Penganalisis situs (unduh dengan login)",
    modeAnalyzerHint: "Untuk konten khusus anggota",
    qualityMessage: "Kualitas",
    qualityBest: "Terbaik tersedia",
    qualityBestHint: "disarankan",
    playlistConfirm: "Ini sepertinya playlist. Unduh semua video?",
    saveTo: "Simpan ke",
    summaryUrl: "URL",
    summaryMode: "Mode",
    summaryAudio: "audio (m4a)",
    summaryVideo: "video",
    summarySaveTo: "Simpan ke",
    summaryPlaylist: "Playlist",
    summaryYes: "ya",
    summaryTitle: "Ringkasan",
    startDownload: "Mulai unduh?",
    cancelled: "dibatalkan.",
    done: "selesai.",
    exitedWithCode: "kode keluar:",
    // pre-download info
    fetchingInfo: "Mengambil info video...",
    fetchInfoFailed: "Gagal mengambil info video. Periksa URL.",
    confirmDownload: "Unduh video ini?",
    // error recovery
    downloadFailed: "Unduhan gagal",
    retryWithCookie: "Coba lagi dengan cookie",
    retryWithCookieDesc: "Coba lagi menggunakan cookie browser (akses Keychain macOS diperlukan)",
    showDetails: "Lihat detail",
    showDetailsDesc: "Tampilkan detail error",
    abort: "Batalkan",
    abortDesc: "Batalkan unduhan",
    retrying: "Mencoba lagi dengan cookie...",
    // advanced settings
    advancedSettings: "Pengaturan lanjutan",
    advancedSettingsHint: "Ubah bahasa subtitle, dll.",
    subLangsMessage: "Bahasa subtitle",
    subLangsDefault: "Default (ikuti pengaturan bahasa)",
    subLangsDefaultHint: "id untuk Indonesia, en untuk Inggris",
    subLangsJaEn: "Indonesia + Inggris",
    subLangsAll: "Semua bahasa",
    subLangsCustom: "Kustom",
    subLangsCustomHint: "Pisahkan dengan koma (contoh: id,en,ja)",
    subLangsCustomMessage: "Kode bahasa subtitle (pisahkan dengan koma)",
    subLangsCustomPlaceholder: "id,en,ja",
    subLangsCustomRequired: "Masukkan kode bahasa.",
    advancedDone: "Pengaturan tersimpan",
    // transcribe
    L_TRANSCRIBE_ASK: "Transkrip setelah unduh?",
    L_TRANSCRIBE_BACKEND: "Pilih backend",
    L_TRANSCRIBE_BACKEND_LOCAL: "Lokal (mlx-whisper)",
    L_TRANSCRIBE_BACKEND_API: "API (OpenAI Whisper)",
    L_TRANSCRIBE_SWITCH_API: "Beralih ke API",
    L_TRANSCRIBE_CONTINUE_LOCAL: "Tetap gunakan lokal",
    L_TRANSCRIBE_RUNNING: "ЁЯОЩ  Mentranskrip...",
    L_TRANSCRIBE_DONE: "тЬЕ Transkripsi selesai",
    L_TRANSCRIBE_FAILED: "тЭМ Transkripsi gagal",
    L_TRANSCRIBE_USING_SUBS: "Menggunakan subtitle untuk meningkatkan akurasi...",
    L_TRANSCRIBE_USING_MANUSCRIPT: "Menggunakan manuskrip untuk meningkatkan akurasi...",
    L_TRANSCRIBE_NO_HINTS: "Mentranskrip tanpa petunjuk...",
    L_TRANSCRIBE_API_KEY_MISSING: "Harap atur OPENAI_API_KEY",
    L_TRANSCRIBE_SPEC_WARN: "Peringatan spesifikasi tidak memadai",
    L_OPT_TRANSCRIBE: "Transkrip setelah unduh",
    L_OPT_BACKEND: "Backend transkripsi (local/api)",
    L_OPT_MANUSCRIPT: "Path file manuskrip (untuk akurasi)",
    // backend detection
    backendDetected: "Backend terdeteksi: {0}",
    backendYtdlp: "yt-dlp (situs video)",
    backendTorrent: "Torrent (P2P)",
    backendStream: "Stream (RTMP/RTSP)",
    backendAnalyzer: "Penganalisis situs",
    // torrent progress
    torrentProgress: "Mengunduh via torrent...",
    torrentPeers: "Peer: {0}",
    torrentSpeed: "Kecepatan: {0}",
    // stream recording
    streamDuration: "Durasi rekaman",
    streamRecording: "Merekam stream...",
    // site analyzer
    analyzerScanning: "Menganalisis situs...",
    analyzerFoundMedia: "Media ditemukan: {0}",
    analyzerDrmDetected: "Proteksi DRM terdeteksi. Unduhan mungkin tidak dapat dilakukan.",
    analyzerNoMedia: "Tidak ada media yang ditemukan.",
    // error recovery
    ytdlpFailed: "Gagal mengambil dengan yt-dlp",
    tryAnalyzer: "Coba penganalisis situs?",
    // dependencies
    backendDepMissing: "{0} belum terinstal",
    installBackendDep: "Instal {0}?",
    // URL detection
    urlMagnetDetected: "Tautan magnet terdeteksi",
    urlStreamDetected: "URL stream terdeteksi",
    // CLI options
    optVia: "Tentukan backend (ytdlp/torrent/stream/analyzer)",
    optAnalyze: "Paksa mode penganalisis situs",
    optDuration: "Durasi rekaman stream (detik)",
    // analyzer login
    analyzerLoginPrompt: "Silakan login di browser. Tekan Enter setelah selesai.",
    analyzerTryLogin: "Login di browser dan coba lagi?",
    analyzerLaunchingBrowser: "Meluncurkan browser...",
    analyzerReloading: "Memuat ulang halaman...",
    analyzerFreeContentDetected: "Hanya versi gratis/pratinjau yang terdeteksi. Login dapat memberikan versi lengkap.",
    analyzerCloseBrowser: "Tutup browser? (Tidak: tetap gunakan untuk situs lain)",
    analyzerBrowserKept: "Browser berjalan di latar belakang. Tutup secara manual.",
    analyzerResultTitle: "Hasil analisis",
    analyzerMetaTitle: "Judul",
    analyzerMetaDuration: "Durasi",
    analyzerMetaMedia: "Media",
    analyzerConfirmAction: "Apa yang ingin Anda lakukan?",
    analyzerActionDownload: "Unduh seperti ini",
    analyzerActionLogin: "Login di browser dan pindai ulang",
    analyzerActionLoginHint: "Untuk konten khusus anggota",
    // open directory
    openDir: "Buka folder unduhan?",
    postDownloadDone: "Unduhan selesai. Pilih tindakan berikutnya.",
    postDownloadFinish: "Selesai",
    postDownloadAnalyze: "Unduh ulang via penganalisis situs (dengan login)",
    postDownloadAnalyzeHint: "Untuk konten khusus anggota",
    analyzerExistingFile: "File yang sudah diunduh ditemukan: {0}",
    analyzerOverwriteAction: "File dengan nama yang sama sudah ada",
    analyzerOverwrite: "Timpa",
    analyzerRename: "Simpan dengan nama baru (_2, _3...)",
    // analyzer profile consent
    analyzerProfileExplain: "Analisis situs menggunakan profil browser Chrome.\nMengaktifkan profil permanen akan menyimpan status login sehingga tidak perlu login lagi.\nProfil akan disimpan di:",
    analyzerProfilePath: "  {0}",
    analyzerProfileConfirm: "Aktifkan profil permanen?",
    // settings menu
    settingsTitle: "Pengaturan",
    settingsBack: "Kembali",
    settingsPersistentProfile: "Profil Chrome permanen",
    settingsPersistentProfileHint: "Simpan status login",
    settingsEnabled: "Aktif",
    settingsDisabled: "Nonaktif",
    settingsOpenDir: "Buka folder setelah unduhan",
    settingsOpenDirHint: "Juga bisa diatur via YTDL_OPEN_DIR",
    settingsOpenDirAuto: "Buka otomatis",
    settingsOpenDirAsk: "Tanya setiap kali",
    settingsOpenDirNever: "Jangan buka",
    settingsSaved: "Pengaturan disimpan",
    settingsMenu: "Buka pengaturan",
  },
};

const SUPPORTED_LANGS = ["ja", "en", "zh-Hans", "es", "hi", "pt", "id"];

function detectLang() {
  // 1. CLI arg: --lang en
  const idx = process.argv.indexOf("--lang");
  if (idx !== -1 && process.argv[idx + 1]) {
    const lang = process.argv[idx + 1];
    if (!SUPPORTED_LANGS.includes(lang)) {
      console.error(`Error: Unsupported language '${lang}'. Supported: ${SUPPORTED_LANGS.join(", ")}`);
      console.error(`Use --lang <code> (${SUPPORTED_LANGS.join(", ")}), or set YTDL_LANG environment variable.`);
      process.exit(1);
    }
    return lang;
  }
  // 2. Environment variable: YTDL_LANG=en
  if (process.env.YTDL_LANG) {
    const lang = process.env.YTDL_LANG;
    if (!SUPPORTED_LANGS.includes(lang)) {
      console.error(`Error: Unsupported language '${lang}'. Supported: ${SUPPORTED_LANGS.join(", ")}`);
      console.error(`Use --lang <code> (${SUPPORTED_LANGS.join(", ")}), or set YTDL_LANG environment variable.`);
      process.exit(1);
    }
    return lang;
  }
  // 3. Config file: .ytdlrc
  try {
    const content = readFileSync(CONFIG_PATH, "utf-8").trim();
    const match = content.match(/^lang\s*=\s*([\w-]+)/m);
    if (match) {
      const lang = match[1];
      if (!SUPPORTED_LANGS.includes(lang)) {
        console.error(`Error: Unsupported language '${lang}'. Supported: ${SUPPORTED_LANGS.join(", ")}`);
        console.error(`Use --lang <code> (${SUPPORTED_LANGS.join(", ")}), or set YTDL_LANG environment variable.`);
        process.exit(1);
      }
      return lang;
    }
  } catch {
    // no config file
  }
  // 4. Default: ja
  return "ja";
}

const lang = detectLang();
export const t = messages[lang] || messages.ja;
export const currentLang = lang;
